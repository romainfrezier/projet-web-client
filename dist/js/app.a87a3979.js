(function(){var t={133:function(t,e,o){"use strict";var i=o(9242),a=o(3396);const s={id:"app"};function r(t,e,o,i,r,n){const l=(0,a.up)("router-link"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(l,{to:"/"}),(0,a.Wm)(c)])}var n={name:"UsersView",components:{}},l=o(89);const c=(0,l.Z)(n,[["render",r]]);var u=c,d=o(678),m=o(9022);const h=t=>((0,a.dD)("data-v-5e8dc84f"),t=t(),(0,a.Cn)(),t),p=h((()=>(0,a._)("div",{id:"ad"},[(0,a._)("img",{id:"ad-image",src:m,alt:"ad"})],-1)));function g(t,e,o,i,s,r){const n=(0,a.up)("Visitors"),l=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(n),p,(0,a.Wm)(l)])}const f={id:"headerVisitor"},v={id:"title"},y=(0,a.Uk)("Poly'Activitiz"),w=(0,a.Uk)("About"),S=(0,a.Uk)("Login"),k=(0,a.Uk)("Signup");function b(t,e,o,i,s,r){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",f,[(0,a._)("div",v,[(0,a.Wm)(n,{to:"/"},{default:(0,a.w5)((()=>[y])),_:1})]),(0,a._)("nav",null,[(0,a.Wm)(n,{to:"/about"},{default:(0,a.w5)((()=>[w])),_:1}),(0,a.Wm)(n,{to:"/login"},{default:(0,a.w5)((()=>[S])),_:1}),(0,a.Wm)(n,{to:"/signup"},{default:(0,a.w5)((()=>[k])),_:1})])])}var _={name:"VisitorsPage"};const N=(0,l.Z)(_,[["render",b],["__scopeId","data-v-08b901ac"]]);var I=N,D=o(5766);const A={id:"footer"},z=(0,a._)("p",null,[(0,a._)("a",{id:"git",href:"https://github.com/romainfrz",target:"blank"},"© Romain FREZIER - IG3")],-1),C=(0,a._)("a",{id:"polytech",href:"https://www.polytech.umontpellier.fr",target:"blank"},[(0,a._)("img",{id:"logoPolytech",src:D,alt:"logo-polytech"})],-1),B=[z,C];function U(t,e,o,i,s,r){return(0,a.wg)(),(0,a.iD)("div",A,B)}var P={name:"FooterAll"};const $=(0,l.Z)(P,[["render",U]]);var E=$,V={name:"VisitorsView",components:{Visitors:I,Footer:E}};const F=(0,l.Z)(V,[["render",g],["__scopeId","data-v-5e8dc84f"]]);var q=F;const W=(0,a.uE)('<div id="about" data-v-1db393fc><div class="part1" data-v-1db393fc><p class="title" data-v-1db393fc>Personnal Presentation</p><p class="content" data-v-1db393fc>   Hello everyone, my name is Romain, and I am a student in third year of engineering school at Polytech Montpellier in the IT sector and Management.<br data-v-1db393fc>   I have been a big sports enthusiast since I was very young, and I like particularly mountain sports such as skiing, hiking or both at the same time!<br data-v-1db393fc>   During my year at Polytech, a web project was organized and we had to create a site entirely, and that&#39;s how I created Poly-Activitiz! </p><p class="title" data-v-1db393fc>Contact Me</p><p class="content" data-v-1db393fc>   If you have a question, or a remark on this site, you can contact me at the following address: poly.activitiz@gmail.com and I will try to answer as soon as possible.<br data-v-1db393fc>   You can also find my work on GitHub by clicking on <a href="https://github.com/romainfrz" style="color:#393E46;" data-v-1db393fc>this link</a> ! </p></div><div class="part2" data-v-1db393fc><p class="title" data-v-1db393fc>Web Site Presentation</p><p class="content" data-v-1db393fc>   This website is the result of long hours of work. The objective is to allow all athletes, whether professional or not, to be able to follow their sports activities. <br data-v-1db393fc>   Through the management of activities, athletes will be able to consult their statistics, specific to each activity, or more generally. <br data-v-1db393fc>   By subscribing to the Premium subscription, users will also be able to manage their equipment, because we know that it is important to keep equipment in good condition.<br data-v-1db393fc>   Premium users will also be able to follow the competitions offered by other users, in order to be always up to date with the latest news.<br data-v-1db393fc> Many ideas are still being developed, so be sure to follow the evolution of this application, and I&#39;m sure you will be satisfied with the result! </p></div></div>',1);function T(t,e,o,i,s,r){const n=(0,a.up)("Visitors"),l=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(n),W,(0,a.Wm)(l)])}var M={name:"VisitorsView",components:{Visitors:I,Footer:E}};const Y=(0,l.Z)(M,[["render",T],["__scopeId","data-v-1db393fc"]]);var Z=Y;const x=t=>((0,a.dD)("data-v-7304c096"),t=t(),(0,a.Cn)(),t),H={id:"content"},O=x((()=>(0,a._)("p",{id:"title"},"Login to your account",-1))),j={id:"form"},K=x((()=>(0,a._)("label",{for:"username"},"Username",-1))),L=x((()=>(0,a._)("label",{for:"password"},"Password",-1))),J=x((()=>(0,a._)("button",{type:"submit",class:"btn"},"Login",-1)));function R(t,e,o,s,r,n){const l=(0,a.up)("Visitors"),c=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l),(0,a._)("div",H,[O,(0,a._)("div",j,[(0,a._)("form",{action:"",onSubmit:e[2]||(e[2]=(0,i.iM)((t=>n.sendData()),["prevent"]))},[K,(0,a.wy)((0,a._)("input",{type:"text",name:"username",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>r.username=t),placeholder:"Enter your username"},null,512),[[i.nr,r.username]]),L,(0,a.wy)((0,a._)("input",{type:"password",name:"password",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>r.password=t),placeholder:"Enter your password"},null,512),[[i.nr,r.password]]),J],32)])]),(0,a.Wm)(c)])}var G=o(6265),Q=o.n(G),X=o(6852),tt=o.n(X),et={data(){return{username:"",password:""}},name:"VisitorsView",components:{Visitors:I,Footer:E},methods:{async sendData(){console.log("http://localhost:4000/"),this.verifiyUsername(this.username)&&this.verifiyPassword(this.password)?await Q().post("http://localhost:4000/login/",{username:this.$CryptoJS.AES.encrypt(this.username,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString(),password:this.$CryptoJS.AES.encrypt(this.password,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString()}).then((t=>{localStorage.setItem("user",this.$CryptoJS.AES.decrypt(t.data.userId,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString(this.$CryptoJS.enc.Utf8)),localStorage.setItem("isPremium",this.$CryptoJS.AES.decrypt(t.data.isPremium,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString(this.$CryptoJS.enc.Utf8)),localStorage.setItem("isAdmin",this.$CryptoJS.AES.decrypt(t.data.isAdmin,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString(this.$CryptoJS.enc.Utf8)),localStorage.setItem("token",t.data.token),Ua.push("/profil")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Wrong password or username"):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured")})):this.verifiyUsername(this.username)||this.verifiyPassword(this.password)?this.verifiyUsername(this.username)&&!this.verifiyPassword(this.password)?tt().Notify.failure("Please enter a valid password"):!this.verifiyUsername(this.username)&&this.verifiyPassword(this.password)&&tt().Notify.failure("Please enter a valid username"):tt().Notify.failure("Please enter a valid username and password.")},verifiyUsername(t){const e=/^(?=.*[a-z])[0-9a-zA-Z]{5,}\S$/;return e.test(t)},verifiyPassword(t){const e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{7,}\S$/;return e.test(t)}}};const ot=(0,l.Z)(et,[["render",R],["__scopeId","data-v-7304c096"]]);var it=ot;const at=t=>((0,a.dD)("data-v-f7f5a8dc"),t=t(),(0,a.Cn)(),t),st={id:"content"},rt=at((()=>(0,a._)("p",{id:"title"},"Create a new account",-1))),nt={id:"form"},lt=at((()=>(0,a._)("label",{for:"username"},"Username",-1))),ct=at((()=>(0,a._)("label",{for:"password"},"Password",-1))),ut=at((()=>(0,a._)("button",{type:"submit"},"Register",-1)));function dt(t,e,o,s,r,n){const l=(0,a.up)("Visitors"),c=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l),(0,a._)("div",st,[rt,(0,a._)("div",nt,[(0,a._)("form",{action:"",onSubmit:e[2]||(e[2]=(0,i.iM)((t=>n.sendData()),["prevent"]))},[lt,(0,a.wy)((0,a._)("input",{required:"",type:"text",name:"username","onUpdate:modelValue":e[0]||(e[0]=t=>r.username=t),placeholder:"Enter your username"},null,512),[[i.nr,r.username]]),ct,(0,a.wy)((0,a._)("input",{required:"",type:"password",name:"password","onUpdate:modelValue":e[1]||(e[1]=t=>r.password=t),placeholder:"Enter your password"},null,512),[[i.nr,r.password]]),ut],32)])]),(0,a.Wm)(c)])}var mt={data(){return{username:"",password:""}},name:"VisitorsView",components:{Visitors:I,Footer:E},methods:{sendData(){this.verifiyUsername(this.username)&&this.verifiyPassword(this.password)?Q().post("http://localhost:4000/signup/",{username:this.$CryptoJS.AES.encrypt(this.username,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString(),password:this.$CryptoJS.AES.encrypt(this.password,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString()}).then((t=>{tt().Notify.success("Your account has been created ! Please login now !"),console.log(t),Ua.push("/login")})).catch((t=>{t.message.toString().includes("400")?tt().Notify.failure("This username is already used"):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured")})):this.verifiyUsername(this.username)||this.verifiyPassword(this.password)?this.verifiyUsername(this.username)&&!this.verifiyPassword(this.password)?tt().Notify.failure("Your password must contain at least 8 characters, 1 number, 1 lowercase character, 1 uppercase character, no spaces and no special character"):!this.verifiyUsername(this.username)&&this.verifiyPassword(this.password)&&tt().Notify.failure("Please enter a valid username."):tt().Notify.failure("Please enter a valid username.\nYour password must contain at least 8 characters, 1 number, 1 lowercase character, 1 uppercase character, no spaces and no special character")},verifiyUsername(t){const e=/^(?=.*[a-z])[0-9a-zA-Z]{5,}\S$/;return e.test(t)},verifiyPassword(t){const e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{5,}\S$/;return e.test(t)}}};const ht=(0,l.Z)(mt,[["render",dt],["__scopeId","data-v-f7f5a8dc"]]);var pt=ht;const gt={id:"all"},ft={id:"content"};function vt(t,e,o,i,s,r){const n=(0,a.up)("NavBar"),l=(0,a.up)("User"),c=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",gt,[(0,a.Wm)(n),(0,a._)("div",ft,[(0,a.Wm)(l)]),(0,a.Wm)(c)])}var yt=o(7139);const wt=t=>((0,a.dD)("data-v-3a6f9b76"),t=t(),(0,a.Cn)(),t),St={id:"headerAuth"},kt={id:"title"},bt=(0,a.Uk)("Poly'Activitiz"),_t={id:"status"},Nt={id:"tab"},It=(0,a.Uk)("👨‍💻 Users"),Dt=(0,a.Uk)("🏁 Competitions"),At=(0,a.Uk)("⚽️ Sports 🎾"),zt=(0,a.Uk)("🙋‍♂️ My Profile"),Ct={id:"burger"},Bt=wt((()=>(0,a._)("input",{type:"checkbox",id:"btnBurger",style:{display:"none"}},null,-1))),Ut={for:"btnBurger"},Pt=wt((()=>(0,a._)("p",{id:"close"},"≡",-1))),$t=wt((()=>(0,a._)("p",{id:"open"},"✕",-1))),Et={id:"tabBurger"},Vt=(0,a.Uk)("👨‍💻 Users"),Ft=(0,a.Uk)("🏁 Competitions"),qt=(0,a.Uk)("⚽️ Sports 🎾"),Wt=(0,a.Uk)("🙋‍♂️ My Profile");function Tt(t,e,o,s,r,n){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",St,[(0,a._)("div",kt,[(0,a.Wm)(l,{to:"/profil"},{default:(0,a.w5)((()=>[bt])),_:1})]),(0,a._)("nav",null,[(0,a._)("div",_t,[(0,a._)("p",null,(0,yt.zw)(r.status),1)]),(0,a._)("div",Nt,[(0,a.wy)((0,a._)("input",{type:"text",name:"searchBar","onUpdate:modelValue":e[0]||(e[0]=t=>r.search=t),placeholder:"🔎 Search an activity by name...",onKeypress:e[1]||(e[1]=(0,i.D2)((t=>n.searchActivity()),["enter"]))},null,544),[[i.nr,r.search]]),r.isAdmin?((0,a.wg)(),(0,a.j4)(l,{key:0,to:"/users"},{default:(0,a.w5)((()=>[It])),_:1})):(0,a.kq)("",!0),"Admin"==this.status||"Premium"==this.status?((0,a.wg)(),(0,a.j4)(l,{key:1,to:"/competitions"},{default:(0,a.w5)((()=>[Dt])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(l,{to:"/sports"},{default:(0,a.w5)((()=>[At])),_:1}),(0,a.Wm)(l,{to:"/profil"},{default:(0,a.w5)((()=>[zt])),_:1})]),(0,a._)("div",Ct,[Bt,(0,a._)("label",Ut,[Pt,$t,(0,a._)("div",Et,[(0,a.wy)((0,a._)("input",{type:"text",name:"searchBar","onUpdate:modelValue":e[2]||(e[2]=t=>r.search=t),placeholder:"🔎 Search an activity by name...",onKeypress:e[3]||(e[3]=(0,i.D2)((t=>n.searchActivity()),["enter"]))},null,544),[[i.nr,r.search]]),r.isAdmin?((0,a.wg)(),(0,a.j4)(l,{key:0,to:"/users"},{default:(0,a.w5)((()=>[Vt])),_:1})):(0,a.kq)("",!0),"Admin"==this.status||"Premium"==this.status?((0,a.wg)(),(0,a.j4)(l,{key:1,to:"/competitions"},{default:(0,a.w5)((()=>[Ft])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(l,{to:"/sports"},{default:(0,a.w5)((()=>[qt])),_:1}),(0,a.Wm)(l,{to:"/profil"},{default:(0,a.w5)((()=>[Wt])),_:1})])])])])])}var Mt={name:"AuthHeader",data(){return{status:"",isAdmin:!1,search:""}},beforeMount(){this.getStatus()},methods:{getStatus(){"true"==localStorage.getItem("isAdmin")?(this.status="Admin",this.isAdmin=!0):"true"==localStorage.getItem("isPremium")?this.status="Premium":this.status="Classic"},searchActivity(){if(""!=this.search){const t="/search/"+this.search;this.search="",location.replace(t)}else tt().Notify.info("You need to search something...")}}};const Yt=(0,l.Z)(Mt,[["render",Tt],["__scopeId","data-v-3a6f9b76"]]);var Zt=Yt;const xt=t=>((0,a.dD)("data-v-6289c40b"),t=t(),(0,a.Cn)(),t),Ht={class:"all"},Ot={key:0,class:"contentAll"},jt={key:0,class:"tiles"},Kt={class:"content"},Lt={id:"name"},Jt={class:"button"},Rt=["onClick"],Gt=["onClick"],Qt={key:1,id:"WriteForm"},Xt=xt((()=>(0,a._)("label",{for:"username"},"Username",-1))),te=xt((()=>(0,a._)("label",{for:"premium"},"Premium",-1))),ee=xt((()=>(0,a._)("label",{for:"admin"},"Admin",-1))),oe=xt((()=>(0,a._)("button",{type:"submit",class:"btn"},"Submit",-1)));function ie(t,e,o,s,r,n){return(0,a.wg)(),(0,a.iD)("div",Ht,[r.form?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Ot,[r.onScreen?((0,a.wg)(),(0,a.iD)("ul",jt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.users,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.id,class:"tile"},[(0,a._)("div",Kt,[(0,a._)("p",Lt,(0,yt.zw)(t.id)+". "+(0,yt.zw)(t.username),1),(0,a._)("p",null,"Admin : "+(0,yt.zw)(t.isAdmin),1),(0,a._)("p",null,"Premium : "+(0,yt.zw)(t.isPremium),1)]),(0,a._)("div",Jt,[(0,a._)("button",{onClick:e=>n.writeUser(t.id,t.username,t.isPremium,t.isAdmin),class:"write"},"✏️",8,Rt),(0,a._)("button",{onClick:e=>n.deleteUser(t.id,t.username),class:"delete"},"🚮",8,Gt)])])))),128))])):(0,a.kq)("",!0)])),r.form?((0,a.wg)(),(0,a.iD)("div",Qt,[(0,a._)("p",{id:"cross",onClick:e[0]||(e[0]=t=>n.changeForm())},"✖️"),(0,a._)("form",{action:"",onSubmit:e[4]||(e[4]=(0,i.iM)((t=>n.sendData()),["prevent"]))},[Xt,(0,a.wy)((0,a._)("input",{type:"text",name:"username",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>r.username=t),placeholder:"Enter the username"},null,512),[[i.nr,r.username]]),te,(0,a.wy)((0,a._)("input",{type:"checkbox",name:"premium","onUpdate:modelValue":e[2]||(e[2]=t=>r.isPremium=t)},null,512),[[i.e8,r.isPremium]]),ee,(0,a.wy)((0,a._)("input",{type:"checkbox",name:"admin","onUpdate:modelValue":e[3]||(e[3]=t=>r.isAdmin=t)},null,512),[[i.e8,r.isAdmin]]),oe],32)])):(0,a.kq)("",!0)])}o(1703);var ae={name:"UserTile",data(){return{users:[{}],onScreen:!0,form:!1,id:"",username:"",isAdmin:!1,isPremium:!1}},beforeMount(){this.getUsers()},methods:{getUsers(){Q().get("http://localhost:4000/users/"+localStorage.getItem("user").toString()+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.users=t.data})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),this.onScreen=!1,console.log(t)}))},deleteUser(t,e){tt().Confirm.show("Delete user","Do you want to delete user with username : "+e+" ?","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/users/"+localStorage.getItem("user").toString()+"/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("User "+e+" deleted with succes"),setTimeout("location.reload(true)",2e3),console.log(t)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("User "+e+" is not deleted")}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})},changeForm(){this.form=!this.form},verifiyUsername(t){const e=/^(?=.*[a-z])[0-9a-zA-Z]{5,}\S$/;return e.test(t)},async writeUser(t,e,o,i){this.isAdmin=i,this.isPremium=o,this.username=e,this.id=t,this.changeForm()},sendData(){if(!this.verifiyUsername(this.sport))return Error;tt().Confirm.show("Modify user","Do you want to modify this user ?","Yes","No",(()=>{Q().put("http://localhost:4000/users/"+localStorage.getItem("user")+"/"+this.id+"/",{username:this.username,isAdmin:this.isAdmin,isPremium:this.isPremium},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),this.username="",this.isPremium=!1,this.isAdmin=!1,this.id="",this.changeForm(),setTimeout("location.reload(true)",2e3),tt().Notify.success("User modified !")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("User is not modified")}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})}}};const se=(0,l.Z)(ae,[["render",ie],["__scopeId","data-v-6289c40b"]]);var re=se,ne={name:"UsersView",components:{NavBar:Zt,User:re,Footer:E}};const le=(0,l.Z)(ne,[["render",vt],["__scopeId","data-v-642345bf"]]);var ce=le;const ue={id:"all"},de={id:"content"};function me(t,e,o,i,s,r){const n=(0,a.up)("NavBar"),l=(0,a.up)("SportTiles"),c=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",ue,[(0,a.Wm)(n),(0,a._)("div",de,[(0,a.Wm)(l)]),(0,a.Wm)(c)])}const he=t=>((0,a.dD)("data-v-3a33f1a8"),t=t(),(0,a.Cn)(),t),pe={id:"all1"},ge={key:0,class:"content1"},fe={key:0,class:"tiles"},ve={class:"content"},ye={key:0,class:"button"},we=["onClick"],Se=["onClick"],ke={key:1,id:"addWriteForm"},be=he((()=>(0,a._)("label",{for:"sportName"},"Sport Name",-1))),_e=he((()=>(0,a._)("label",{for:"period"},"Period",-1))),Ne=he((()=>(0,a._)("option",{disabled:"",value:""},"Choose...",-1))),Ie=he((()=>(0,a._)("option",{value:"Winter"},"Winter",-1))),De=he((()=>(0,a._)("option",{value:"Summer"},"Summer",-1))),Ae=he((()=>(0,a._)("option",{value:"Summer/Winter"},"Summer & Winter",-1))),ze=[Ne,Ie,De,Ae],Ce=he((()=>(0,a._)("button",{type:"submit",class:"btn"},"Submit",-1)));function Be(t,e,o,s,r,n){return(0,a.wg)(),(0,a.iD)("div",pe,[r.form?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",ge,[r.form?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("ul",fe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.sports,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.id,class:"tile"},[(0,a._)("div",ve,[(0,a._)("p",null,(0,yt.zw)(t.sportName),1),(0,a._)("p",null,"Period : "+(0,yt.zw)(t.sportPeriod),1)]),r.isAdmin?((0,a.wg)(),(0,a.iD)("div",ye,[(0,a._)("button",{onClick:e=>n.writeSport(t.id,t.sportName,t.sportPeriod),class:"write"},"✏️",8,we),(0,a._)("button",{onClick:e=>n.deleteSport(t.id,t.sportName),class:"delete"},"🚮",8,Se)])):(0,a.kq)("",!0)])))),128))])),r.isAdmin?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"add",onClick:e[0]||(e[0]=t=>n.changeForm())},"➕ Add")):(0,a.kq)("",!0)])),r.form?((0,a.wg)(),(0,a.iD)("div",ke,[(0,a._)("p",{id:"cross",onClick:e[1]||(e[1]=t=>n.changeForm())},"✖️"),(0,a._)("form",{action:"",onSubmit:e[4]||(e[4]=(0,i.iM)((t=>n.sendData()),["prevent"]))},[be,(0,a.wy)((0,a._)("input",{type:"text",name:"sportName",required:"","onUpdate:modelValue":e[2]||(e[2]=t=>r.sport=t),placeholder:"Enter the sport name"},null,512),[[i.nr,r.sport]]),_e,(0,a.wy)((0,a._)("select",{name:"period",id:"period","onUpdate:modelValue":e[3]||(e[3]=t=>r.period=t)},ze,512),[[i.bM,r.period]]),Ce],32)])):(0,a.kq)("",!0)])}var Ue={name:"SportTile",data(){return{sports:[{}],isAdmin:!1,onScreen:!0,form:!1,id:"",sport:"",period:"",write:!1}},beforeMount(){this.getSports()},methods:{getSports(){Q().get("http://localhost:4000/sports/"+localStorage.getItem("user").toString()+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.sports=t.data,"true"==localStorage.getItem("isAdmin")&&(this.isAdmin=!0)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),this.onScreen=!1,console.log(t)}))},deleteSport(t,e){tt().Confirm.show("Delete sport","Do you want to delete sport named : "+e+" ?","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/sports/"+localStorage.getItem("user").toString()+"/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Sport "+e+" deleted with succes"),setTimeout("location.reload(true)",2e3),console.log(t)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("Sport "+e+". is not deleted")}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})},writeSport(t,e,o){this.changeForm(),this.write=!0,this.sport=e,this.period=o,this.id=t},changeForm(){this.form=!this.form,this.sport="",this.period=""},sendData(){if(this.write){if(!this.verifiySport(this.sport)||!this.verifiyPeriod(this.period))return Error;tt().Confirm.show("Modify sport","Do you want to modify this sport ?","Yes","No",(()=>{Q().put("http://localhost:4000/sports/"+localStorage.getItem("user")+"/"+this.id+"/",{sportName:this.sport,sportPeriod:this.period},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),this.changeForm(),setTimeout("location.reload(true)",2e3),tt().Notify.success("Sport modified !")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("Sport is not modified")}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})}else{if(!this.verifiySport(this.sport)||!this.verifiyPeriod(this.period))return Error;tt().Confirm.show("Create sport","Do you want to create this sport ?","Yes","No",(()=>{Q().post("http://localhost:4000/sports/"+localStorage.getItem("user")+"/",{sportName:this.sport,sportPeriod:this.period},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),this.changeForm(),setTimeout("location.reload(true)",2e3),tt().Notify.success("Sport created !")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("Sport is not created")}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})}},verifiySport(t){const e=/^((?!DROP|SELECT|scrpit|js).){2,}\S$/;return e.test(t)},verifiyPeriod(t){const e=/^((?!DROP|SELECT|scrpit|js).){3,}\S$/;return e.test(t)}}};const Pe=(0,l.Z)(Ue,[["render",Be],["__scopeId","data-v-3a33f1a8"]]);var $e=Pe,Ee={name:"SportsView",components:{NavBar:Zt,SportTiles:$e,Footer:E}};const Ve=(0,l.Z)(Ee,[["render",me],["__scopeId","data-v-1784302c"]]);var Fe=Ve;const qe=t=>((0,a.dD)("data-v-6b65a417"),t=t(),(0,a.Cn)(),t),We={id:"all"},Te={id:"content"},Me={id:"activity"},Ye=qe((()=>(0,a._)("p",{class:"title"},"🏆 My Activities",-1))),Ze={id:"stat"},xe=qe((()=>(0,a._)("p",{class:"title"},"📶 My Stats",-1))),He={id:"item"},Oe=qe((()=>(0,a._)("p",{class:"title"},"🎿 My Items",-1))),je={key:0,id:"ad"},Ke={key:1},Le={class:"add"},Je=(0,a.Uk)("➕ Add"),Re={id:"setting"},Ge=qe((()=>(0,a._)("p",{class:"title"},"⚙️ Settings",-1))),Qe={id:"buttons"};function Xe(t,e,o,i,s,r){const n=(0,a.up)("NavBar"),l=(0,a.up)("ActivityTiles"),c=(0,a.up)("StatTiles"),u=(0,a.up)("ItemTiles"),d=(0,a.up)("router-link"),m=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",We,[(0,a.Wm)(n),(0,a._)("div",Te,[(0,a._)("div",Me,[Ye,(0,a.Wm)(l)]),(0,a._)("div",Ze,[xe,(0,a.Wm)(c)]),(0,a._)("div",He,[Oe,s.isPremium?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("p",je,"This section will be available if you subscribe to premium access")),s.isPremium?((0,a.wg)(),(0,a.iD)("div",Ke,[(0,a.Wm)(u),(0,a._)("button",Le,[(0,a.Wm)(d,{to:"/item"},{default:(0,a.w5)((()=>[Je])),_:1})])])):(0,a.kq)("",!0)]),(0,a._)("div",Re,[Ge,(0,a._)("div",Qe,[(0,a._)("button",{id:"del",onClick:e[0]||(e[0]=t=>r.delAccount())},"Delete Account 🚮"),(0,a._)("button",{id:"prem",onClick:e[1]||(e[1]=t=>r.changePrem())},(0,yt.zw)(this.premium)+" Premium Access 💳",1),(0,a._)("button",{onClick:e[2]||(e[2]=t=>r.logout()),id:"logout"},"Log out 💤")])])]),(0,a.Wm)(m)])}const to={key:0},eo={class:"tiles"},oo={class:"content"},io={class:"button"},ao=["onClick"],so=["onClick"],ro=["onClick"],no={key:1,class:"detail"},lo={class:"title"},co={class:"desc"},uo={key:0},mo={key:1},ho={key:2},po={key:3},go={key:4};function fo(t,e,o,i,s,r){return(0,a.wg)(),(0,a.iD)("div",null,[s.isDetail?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",to,[(0,a._)("ul",eo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.activities,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.id,class:"tile"},[(0,a._)("div",oo,[(0,a._)("p",null,(0,yt.zw)(t.activityName),1),(0,a._)("p",null,(0,yt.zw)(t.sportName),1),(0,a._)("p",null,(0,yt.zw)(t.date),1)]),(0,a._)("div",io,[(0,a._)("button",{onClick:e=>r.seeActivity(t.id,t.activityName,t.sportName,t.date,t.item),class:"see"},"👀",8,ao),(0,a._)("button",{onClick:e=>r.deleteActivity(t.id,t.activityName),class:"delete"},"🚮",8,so),(0,a._)("button",{onClick:e=>r.edit(t.id)},"✏️",8,ro)])])))),128))]),(0,a._)("button",{class:"add",onClick:e[0]||(e[0]=t=>r.create())},"➕ Add")])),s.isDetail?((0,a.wg)(),(0,a.iD)("div",no,[(0,a._)("p",{class:"cross",onClick:e[1]||(e[1]=t=>r.changeDetail())},"✖️"),(0,a._)("p",lo,(0,yt.zw)(s.name),1),(0,a._)("div",co,[(0,a._)("p",null,"Your "+(0,yt.zw)(s.sport)+" activity on "+(0,yt.zw)(s.date)+" :",1),0!=this.stats.distance?((0,a.wg)(),(0,a.iD)("p",uo,"📏 Distance : "+(0,yt.zw)(this.stats.distance)+" km",1)):(0,a.kq)("",!0),0!=this.stats.time?((0,a.wg)(),(0,a.iD)("p",mo,"⏱ Time : "+(0,yt.zw)(this.stats.time)+" minutes",1)):(0,a.kq)("",!0),0!=this.stats.speed?((0,a.wg)(),(0,a.iD)("p",ho,"🏎 Average speed : "+(0,yt.zw)(this.stats.speed)+" km/h",1)):(0,a.kq)("",!0),0!=this.stats.height?((0,a.wg)(),(0,a.iD)("p",po,"⛰ Height difference : +"+(0,yt.zw)(this.stats.height)+" m",1)):(0,a.kq)("",!0),this.item?((0,a.wg)(),(0,a.iD)("p",go,"🎿 Item used : "+(0,yt.zw)(this.item),1)):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)])}var vo={name:"ActivityTiles",data(){return{activities:[{}],isDetail:!1,stats:{distance:0,height:0,time:0,speed:0},name:"",item:"",date:"",sport:""}},mounted(){this.getActivities()},methods:{async getActivities(){const t=localStorage.getItem("user").toString();await Q().get("http://localhost:4000/activities/"+t+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((e=>{this.activities=e.data,this.activities.forEach((e=>{Q().get("http://localhost:4000/sports/"+t+"/"+e.sportId,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{e.sportName=t.data[0].sportName})).catch((t=>{console.log(t)}))}))})).catch((t=>{console.log(t)}))},deleteActivity(t,e){tt().Confirm.show("Delete activity","Do you want to delete activity named : "+e+" ?","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/activities/"+localStorage.getItem("user")+"/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Activity "+e+" deleted with succes"),setTimeout("location.reload(true)",2e3),console.log(t)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("Activity "+e+" is not deleted")}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})},changeDetail(){this.isDetail=!this.isDetail},async seeActivity(t,e,o,i,a){this.name=e,this.sport=o,this.date=i,this.stats={distance:0,height:0,time:0,speed:0},await Q().get("http://localhost:4000/statValues/"+localStorage.getItem("user")+"/activity/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{t.data.forEach((t=>{"time"==t.stat&&(this.stats.time+=parseInt(t.value)),"distance"==t.stat&&(this.stats.distance+=parseInt(t.value)),"height"==t.stat&&(this.stats.height+=parseInt(t.value))})),0!=this.stats.distance&&0!=this.stats.time&&(this.stats.speed=(this.stats.distance/(this.stats.time/60)).toFixed(2)),""!=this.item&&Q().get("http://localhost:4000/items/"+localStorage.getItem("user")+"/"+a,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.item=t.data.itemName})).catch((t=>{console.log(t)})),this.changeDetail()})).catch((t=>{console.log(t)}))},edit(t){const e="/activityForm/"+t;Ua.push(e)},create(){Ua.push("/activityForm/0")}}};const yo=(0,l.Z)(vo,[["render",fo],["__scopeId","data-v-1dd23984"]]);var wo=yo;const So={class:"tiles"},ko={class:"content"},bo={key:0},_o={class:"button"},No=["onClick"];function Io(t,e,o,i,s,r){return(0,a.wg)(),(0,a.iD)("ul",So,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.itemsAll,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.id,class:"tile"},[(0,a._)("div",ko,[(0,a._)("p",null,(0,yt.zw)(t.itemName),1),(0,a._)("p",null,(0,yt.zw)(t.sportName),1),t.usage?((0,a.wg)(),(0,a.iD)("p",bo,(0,yt.zw)(t.usage)+" km",1)):(0,a.kq)("",!0)]),(0,a._)("div",_o,[(0,a._)("button",{onClick:e=>r.deleteItem(t.id,t.itemName),class:"delete"},"🚮",8,No)])])))),128))])}var Do={name:"ItemTiles",data(){return{itemsAll:[{}]}},beforeMount(){this.getItems()},methods:{async getItems(){await Q().get("http://localhost:4000/items/"+localStorage.getItem("user")+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.itemsAll=t.data,this.itemsAll.forEach((t=>{Q().get("http://localhost:4000/sports/"+localStorage.getItem("user")+"/"+t.sportId,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((e=>{t.sportName=e.data[0].sportName})).catch((t=>{console.log(t)}))}))})).catch((t=>{console.log(t)}))},deleteItem(t,e){tt().Confirm.show("Delete item","Do you want to delete item named : "+e+" ?","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/items/"+localStorage.getItem("user")+"/"+t+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Item "+e+" deleted with succes"),setTimeout("location.reload(true)",2e3),console.log(t)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("Item "+e+" is not deleted")}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})}}};const Ao=(0,l.Z)(Do,[["render",Io],["__scopeId","data-v-76359866"]]);var zo=Ao;const Co={key:0,class:"tiles"},Bo={class:"content"},Uo={class:"button"},Po=["onClick"],$o={key:1,class:"detail"},Eo={class:"title"},Vo={id:"totals"},Fo={key:0},qo={key:1},Wo={key:2},To={key:3};function Mo(t,e,o,i,s,r){return(0,a.wg)(),(0,a.iD)("div",null,[s.isDetail?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("ul",Co,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.stats,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.id,class:"tile"},[(0,a._)("div",Bo,[(0,a._)("p",null,(0,yt.zw)(t.statName),1)]),(0,a._)("div",Uo,[(0,a._)("button",{onClick:e=>r.seeStat(t.statName),class:"see"},"👀",8,Po)])])))),128))])),s.isDetail?((0,a.wg)(),(0,a.iD)("div",$o,[(0,a._)("p",{class:"cross",onClick:e[0]||(e[0]=t=>r.changeDetail())},"✖️"),(0,a._)("p",Eo,(0,yt.zw)(s.stat),1),(0,a._)("div",Vo,["Distance"==this.stat?((0,a.wg)(),(0,a.iD)("p",Fo,"Total : "+(0,yt.zw)(s.sum)+" km",1)):(0,a.kq)("",!0),"Time"==this.stat?((0,a.wg)(),(0,a.iD)("p",qo,"Total : "+(0,yt.zw)(s.sum)+" minutes",1)):(0,a.kq)("",!0),"Height difference"==this.stat?((0,a.wg)(),(0,a.iD)("p",Wo,"Total : +"+(0,yt.zw)(s.sum)+" m",1)):(0,a.kq)("",!0),"Speed"==this.stat?((0,a.wg)(),(0,a.iD)("p",To,"Average speed : "+(0,yt.zw)(s.sum)+" km/h",1)):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)])}var Yo={name:"StatTiles",data(){return{stats:[{statName:"Distance"},{statName:"Height difference"},{statName:"Time"},{statName:"Speed"}],isDetail:!1,stat:"",sum:0,sumForSpeed:0}},methods:{async seeStat(t){this.changeDetail(),this.stat=t,this.sum=0,this.sumForSpeed=0;const e=localStorage.getItem("user");"Distance"==t&&await Q().get("http://localhost:4000/statValues/"+e+"/distance",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),t.data.forEach((t=>{this.sum+=parseInt(t.value)}))})).catch((t=>{console.log(t)})),"Time"==t&&await Q().get("http://localhost:4000/statValues/"+e+"/time",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),t.data.forEach((t=>{this.sum+=parseInt(t.value)}))})).catch((t=>{console.log(t)})),"Height difference"==t&&await Q().get("http://localhost:4000/statValues/"+e+"/height",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),t.data.forEach((t=>{this.sum+=parseInt(t.value)}))})).catch((t=>{console.log(t)})),"Speed"==t&&(await Q().get("http://localhost:4000/statValues/"+e+"/time",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{t.data.forEach((t=>{this.sum+=parseInt(t.value)}))})).catch((t=>{console.log(t)})),await Q().get("http://localhost:4000/statValues/"+e+"/distance",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{t.data.forEach((t=>{this.sumForSpeed+=parseInt(t.value)}))})).catch((t=>{console.log(t)})),console.log(this.sum),console.log(this.sumForSpeed),this.sum=(parseInt(this.sumForSpeed)/(parseInt(this.sum)/60)).toFixed(2))},changeDetail(){this.isDetail=!this.isDetail}}};const Zo=(0,l.Z)(Yo,[["render",Mo],["__scopeId","data-v-0064f0dd"]]);var xo=Zo,Ho={name:"ProfilView",components:{NavBar:Zt,ActivityTiles:wo,ItemTiles:zo,StatTiles:xo,Footer:E},data(){return{premium:"",isPremium:!1,isAdmin:!1}},beforeMount(){this.btnPremium(),this.admin()},methods:{admin(){"true"==localStorage.getItem("isAdmin")&&(this.isAdmin=!0)},btnPremium(){"true"==localStorage.getItem("isPremium")?(this.premium="Leave",this.isPremium=!0):this.premium="Get"},logout(){localStorage.clear(),Ua.push("/")},changePrem(){"Leave"==this.premium?tt().Confirm.show("Premium Access","Do you want to leave your premium access ?","Yes","No",(()=>{Q().put("http://localhost:4000/users/"+localStorage.getItem("user").toString()+"/"+localStorage.getItem("user").toString()+"/",{isPremium:!1},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Premium subscription leaved with succes"),setTimeout("location.reload(true)",2e3),console.log(t),localStorage.setItem("isPremium","false")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("Premium subscription is still alive")}),{titleColor:"goldenrod",okButtonBackground:"goldenrod"}):"Get"==this.premium&&tt().Confirm.show("Premium Access","Do you want to get your premium access for $5 (fake)?","Yes","No",(()=>{Q().put("http://localhost:4000/users/"+localStorage.getItem("user").toString()+"/"+localStorage.getItem("user").toString()+"/",{isPremium:!0},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Premium subscription successfully obtained"),setTimeout("location.reload(true)",2e3),console.log(t),localStorage.setItem("isPremium","true")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("Premium subscription is still available")}),{titleColor:"goldenrod",okButtonBackground:"goldenrod"})},delAccount(){tt().Confirm.show("Delete account","Do you want to delete your account ? This action is final and you cannot go back.","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/users/"+localStorage.getItem("user").toString()+"/"+localStorage.getItem("user").toString()+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Your account has been deleted..."),setTimeout(Ua.push("/"),2e3),console.log(t),localStorage.setItem("isPremium","true")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("Your account is still alive")}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})}}};const Oo=(0,l.Z)(Ho,[["render",Xe],["__scopeId","data-v-6b65a417"]]);var jo=Oo;const Ko=t=>((0,a.dD)("data-v-1d38708b"),t=t(),(0,a.Cn)(),t),Lo={id:"all"},Jo=(0,a.Uk)("✖️"),Ro=Ko((()=>(0,a._)("label",{for:"itemName"},"Item Name",-1))),Go=Ko((()=>(0,a._)("label",{for:"usage"},"Usage (optional)",-1))),Qo=Ko((()=>(0,a._)("label",{for:"sport"},"Sport",-1))),Xo=Ko((()=>(0,a._)("option",{disabled:"",value:""},"Choose...",-1))),ti=["value"],ei=Ko((()=>(0,a._)("button",{type:"submit",class:"btn"},"Submit",-1)));function oi(t,e,o,s,r,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("router-link"),u=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",Lo,[(0,a.Wm)(l),(0,a.Wm)(c,{id:"cross",to:"/profil"},{default:(0,a.w5)((()=>[Jo])),_:1}),(0,a._)("form",{id:"itemForm",action:"",onSubmit:e[3]||(e[3]=(0,i.iM)((t=>n.sendDataItem()),["prevent"]))},[Ro,(0,a.wy)((0,a._)("input",{type:"text",name:"itemName",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>r.item=t),placeholder:"Enter the item name"},null,512),[[i.nr,r.item]]),Go,(0,a.wy)((0,a._)("input",{type:"text",name:"usage","onUpdate:modelValue":e[1]||(e[1]=t=>r.usage=t),placeholder:"Enter the usage (km)"},null,512),[[i.nr,r.usage]]),Qo,(0,a.wy)((0,a._)("select",{id:"sport","onUpdate:modelValue":e[2]||(e[2]=t=>r.sport=t)},[Xo,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.possibleSport,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.id,value:t.id},(0,yt.zw)(t.sportName),9,ti)))),128))],512),[[i.bM,r.sport]]),ei],32),(0,a.Wm)(u)])}var ii={name:"ItemView",data(){return{possibleSport:[{}],usage:"",item:"",sport:""}},components:{NavBar:Zt,Footer:E},beforeMount(){this.getSports()},methods:{getSports(){Q().get("http://localhost:4000/sports/"+localStorage.getItem("user").toString()+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.possibleSport=t.data})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))},async sendDataItem(){let t;t=""==this.usage?null:this.usage,await Q().post("http://localhost:4000/items/"+localStorage.getItem("user")+"/",{itemName:this.item,usage:t,sportId:this.sport,user:localStorage.getItem("user")},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),Ua.push("/profil"),tt().Notify.success("Item created")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}}};const ai=(0,l.Z)(ii,[["render",oi],["__scopeId","data-v-1d38708b"]]);var si=ai;const ri=t=>((0,a.dD)("data-v-f6404af0"),t=t(),(0,a.Cn)(),t),ni={id:"all"},li=(0,a.Uk)("✖️"),ci=ri((()=>(0,a._)("label",{for:"activityName"},"Activity Name",-1))),ui=ri((()=>(0,a._)("label",{for:"item"},"Item (optional)",-1))),di=ri((()=>(0,a._)("option",{disabled:"",value:""},"Choose...",-1))),mi=["value"],hi=ri((()=>(0,a._)("label",{for:"date"},"Date",-1))),pi=ri((()=>(0,a._)("label",{for:"sport",class:"sport"},"Sport",-1))),gi=ri((()=>(0,a._)("option",{disabled:"",value:""},"Choose...",-1))),fi=["value"],vi=ri((()=>(0,a._)("label",{for:"distance"},"Distance in km (optional)",-1))),yi=ri((()=>(0,a._)("label",{for:"height"},"Height difference in m (optional)",-1))),wi=ri((()=>(0,a._)("label",{for:"time"},"Time in min (optional)",-1))),Si=ri((()=>(0,a._)("button",{type:"submit",class:"btn"},"Submit",-1)));function ki(t,e,o,s,r,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("router-link"),u=(0,a.up)("Datepicker"),d=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",ni,[(0,a.Wm)(l),(0,a.Wm)(c,{id:"cross",to:"/profil"},{default:(0,a.w5)((()=>[li])),_:1}),(0,a._)("form",{id:"activityForm",action:"",onSubmit:e[7]||(e[7]=(0,i.iM)((t=>n.sendDataSport()),["prevent"]))},[ci,(0,a.wy)((0,a._)("input",{type:"text",name:"activityName",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>r.activity=t),placeholder:"Enter the activity name"},null,512),[[i.nr,r.activity]]),ui,(0,a.wy)((0,a._)("select",{id:"item","onUpdate:modelValue":e[1]||(e[1]=t=>r.item=t)},[di,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.itemsAll,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.id,value:t.id},(0,yt.zw)(t.itemName),9,mi)))),128))],512),[[i.bM,r.item]]),hi,(0,a.Wm)(u,{id:"date",modelValue:r.date,"onUpdate:modelValue":e[2]||(e[2]=t=>r.date=t),format:s.dateFormat,monthChangeOnScroll:!1,enableTimePicker:!1,autoApply:"",utc:""},null,8,["modelValue","format"]),pi,(0,a.wy)((0,a._)("select",{id:"sport","onUpdate:modelValue":e[3]||(e[3]=t=>r.sport=t)},[gi,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.possibleSport,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.id,value:t.id},(0,yt.zw)(t.sportName),9,fi)))),128))],512),[[i.bM,r.sport]]),vi,(0,a.wy)((0,a._)("input",{type:"number",name:"distance","onUpdate:modelValue":e[4]||(e[4]=t=>r.distance=t),min:"0",max:"150"},null,512),[[i.nr,r.distance]]),yi,(0,a.wy)((0,a._)("input",{type:"number",name:"height","onUpdate:modelValue":e[5]||(e[5]=t=>r.height=t),min:"1",max:"6000"},null,512),[[i.nr,r.height]]),wi,(0,a.wy)((0,a._)("input",{type:"number",name:"time","onUpdate:modelValue":e[6]||(e[6]=t=>r.time=t),min:"1",max:"900"},null,512),[[i.nr,r.time]]),Si],32),(0,a.Wm)(d)])}var bi=o(4683),_i=o(4870),Ni={name:"ActivityFromView",setup(){const t=(0,_i.iH)(new Date),e=t=>{const e=t.getDate(),o=t.getMonth()+1,i=t.getFullYear();return`${i}-${o}-${e}`};return{dateCalendar:t,dateFormat:e}},data(){return{possibleSport:[{}],item:"",activity:"",sport:"",date:"",itemsAll:[{}],distance:"",height:"",time:""}},components:{NavBar:Zt,Datepicker:bi.Z,Footer:E},beforeMount(){this.getSports(),this.getItems(),this.getValues()},methods:{async getValues(){if(0!=this.$route.params.id){const t=localStorage.getItem("user").toString();await Q().get("http://localhost:4000/activities/"+t+"/"+this.$route.params.id,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.activity=t.data[0].activityName,this.sport=t.data[0].sportId,this.item=t.data[0].item,this.date=t.data[0].date,Q().get("http://localhost:4000/statValues/"+localStorage.getItem("user")+"/activity/"+this.$route.params.id,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{t.data.forEach((t=>{"time"==t.stat&&(this.time+=parseInt(t.value)),"distance"==t.stat&&(this.distance+=parseInt(t.value)),"height"==t.stat&&(this.height+=parseInt(t.value))})),0!=this.distance&&0!=this.time&&(this.speed+=parseInt(this.distance)/(parseInt(this.time)/60).toFixed(2))})).catch((t=>{console.log(t)}))})).catch((t=>{console.log(t)}))}},getSports(){Q().get("http://localhost:4000/sports/"+localStorage.getItem("user").toString()+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.possibleSport=t.data})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))},async getItems(){await Q().get("http://localhost:4000/items/"+localStorage.getItem("user")+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.itemsAll=t.data})).catch((t=>{console.log(t)}))},async sendDataSport(){await Q().post("http://localhost:4000/activities/"+localStorage.getItem("user")+"/",{activityName:this.activity,item:this.item,sportId:this.sport,date:this.date.split("T")[0]},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{""!=this.distance&&Q().post("http://localhost:4000/statValues/"+localStorage.getItem("user")+"/distance/",{activity:t.data.id,value:this.distance},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t)})).catch((t=>{console.log(t)})),""!=this.time&&Q().post("http://localhost:4000/statValues/"+localStorage.getItem("user")+"/time",{activity:t.data.id,value:this.time},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t)})).catch((t=>{console.log(t)})),""!=this.height&&Q().post("http://localhost:4000/statValues/"+localStorage.getItem("user")+"/height",{activity:t.data.id,value:this.height},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t)})).catch((t=>{console.log(t)})),console.log(t.data),Ua.push("/profil"),tt().Notify.success("Activity created",{closeButton:!0})})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}}};const Ii=(0,l.Z)(Ni,[["render",ki],["__scopeId","data-v-f6404af0"]]);var Di=Ii;const Ai=t=>((0,a.dD)("data-v-0d16f86d"),t=t(),(0,a.Cn)(),t),zi={id:"all"},Ci={id:"content"},Bi={key:0},Ui={key:0,class:"tiles"},Pi={class:"content"},$i={class:"button"},Ei=["onClick"],Vi=["onClick"],Fi=["onClick"],qi={key:1,class:"detail"},Wi={class:"title"},Ti={class:"desc"},Mi={key:0},Yi={key:1},Zi={key:2},xi={key:3},Hi={key:4},Oi={key:1,class:"message"},ji=Ai((()=>(0,a._)("p",null,"No activities found with this name...",-1))),Ki=[ji];function Li(t,e,o,i,s,r){const n=(0,a.up)("NavBar"),l=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",zi,[(0,a.Wm)(n),(0,a._)("div",Ci,[s.isEmpty?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Bi,[s.isDetail?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("ul",Ui,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.activities,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.id,class:"tile"},[(0,a._)("div",Pi,[(0,a._)("p",null,(0,yt.zw)(t.activityName),1),(0,a._)("p",null,(0,yt.zw)(t.sportName),1),(0,a._)("p",null,(0,yt.zw)(t.date),1)]),(0,a._)("div",$i,[(0,a._)("button",{onClick:e=>r.seeActivity(t.id,t.activityName,t.sportName,t.date,t.item),class:"see"},"👀",8,Ei),(0,a._)("button",{onClick:e=>r.deleteActivity(t.id,t.activityName),class:"delete"},"🚮",8,Vi),(0,a._)("button",{onClick:e=>r.edit(t.id)},"✏️",8,Fi)])])))),128))])),s.isDetail?((0,a.wg)(),(0,a.iD)("div",qi,[(0,a._)("p",{class:"cross",onClick:e[0]||(e[0]=t=>r.changeDetail())},"✖️"),(0,a._)("p",Wi,(0,yt.zw)(s.name),1),(0,a._)("div",Ti,[(0,a._)("p",null,"Your "+(0,yt.zw)(s.sport)+" activity on "+(0,yt.zw)(s.date)+" :",1),0!=this.stats.distance?((0,a.wg)(),(0,a.iD)("p",Mi,"📏 Distance : "+(0,yt.zw)(this.stats.distance)+" km",1)):(0,a.kq)("",!0),0!=this.stats.time?((0,a.wg)(),(0,a.iD)("p",Yi,"⏱ Time : "+(0,yt.zw)(this.stats.time)+" minutes",1)):(0,a.kq)("",!0),0!=this.stats.speed?((0,a.wg)(),(0,a.iD)("p",Zi,"🏎 Average speed : "+(0,yt.zw)(this.stats.speed)+" km/h",1)):(0,a.kq)("",!0),0!=this.stats.height?((0,a.wg)(),(0,a.iD)("p",xi,"⛰ Height difference : +"+(0,yt.zw)(this.stats.height)+" m",1)):(0,a.kq)("",!0),this.item?((0,a.wg)(),(0,a.iD)("p",Hi,"🎿 Item used : "+(0,yt.zw)(this.item),1)):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)])),s.isEmpty?((0,a.wg)(),(0,a.iD)("div",Oi,Ki)):(0,a.kq)("",!0)]),(0,a.Wm)(l)])}var Ji={name:"SearchView",components:{NavBar:Zt,Footer:E},data(){return{activities:[{}],isEmpty:!0,isDetail:!1,stats:{distance:0,height:0,time:0,speed:0},name:"",item:"",date:"",sport:""}},beforeMount(){this.getActivity()},methods:{async getActivity(){const t=localStorage.getItem("user").toString();await Q().get("http://localhost:4000/activities/"+t+"/name/"+this.$route.params.name+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((e=>{let o=0;console.log(e.data),this.activities=e.data,this.activities.forEach((e=>{Q().get("http://localhost:4000/sports/"+t+"/"+e.sportId,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{e.sportName=t.data[0].sportName})).catch((t=>{console.log(t)})),o++})),o>0&&(this.isEmpty=!1)})).catch((t=>{console.log(t)}))},deleteActivity(t,e){tt().Confirm.show("Delete activity","Do you want to delete activity named : "+e+" ?","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/activities/"+localStorage.getItem("user")+"/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Activity "+e+" deleted with succes"),setTimeout("router.push('/profil')",2e3),console.log(t)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("Activity "+e+" is not deleted")}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})},async seeActivity(t,e,o,i,a){this.name=e,this.sport=o,this.date=i,this.stats={distance:0,height:0,time:0,speed:0},await Q().get("http://localhost:4000/statValues/"+localStorage.getItem("user")+"/activity/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{t.data.forEach((t=>{"time"==t.stat&&(this.stats.time+=parseInt(t.value)),"distance"==t.stat&&(this.stats.distance+=parseInt(t.value)),"height"==t.stat&&(this.stats.height+=parseInt(t.value))})),0!=this.stats.distance&&0!=this.stats.time&&(this.stats.speed=(this.stats.distance/(this.stats.time/60)).toFixed(2)),""!=this.item&&Q().get("http://localhost:4000/items/"+localStorage.getItem("user")+"/"+a,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.item=t.data.itemName})).catch((t=>{console.log(t)})),this.changeDetail()})).catch((t=>{console.log(t)}))},changeDetail(){this.isDetail=!this.isDetail},edit(t){const e="/activityForm/"+t;Ua.push(e)}}};const Ri=(0,l.Z)(Ji,[["render",Li],["__scopeId","data-v-0d16f86d"]]);var Gi=Ri;const Qi={id:"all"},Xi={id:"content"};function ta(t,e,o,i,s,r){const n=(0,a.up)("NavBar"),l=(0,a.up)("CompetitionsTiles"),c=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",Qi,[(0,a.Wm)(n),(0,a._)("div",Xi,[(0,a.Wm)(l)]),(0,a.Wm)(c)])}const ea={key:0,id:"all1"},oa={key:0,class:"content1"},ia={key:0,class:"tiles"},aa={class:"content"},sa={class:"button"},ra=["onClick"],na=["onClick"];function la(t,e,o,i,s,r){return s.isPremium?((0,a.wg)(),(0,a.iD)("div",ea,[s.form?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",oa,[s.form?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("ul",ia,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.compets,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.id,class:"tile"},[(0,a._)("div",aa,[(0,a._)("p",null,(0,yt.zw)(t.competName),1),(0,a._)("p",null,"Sport : "+(0,yt.zw)(t.sportName),1),(0,a._)("p",null,"Date : "+(0,yt.zw)(t.competDate),1),(0,a._)("p",null,"Place : "+(0,yt.zw)(t.place),1)]),(0,a._)("div",sa,[(0,a._)("button",{onClick:e=>r.edit(t.id),class:"write"},"✏️",8,ra),(0,a._)("button",{onClick:e=>r.deleteCompet(t.id,t.competName),class:"delete"},"🚮",8,na)])])))),128))])),(0,a._)("button",{class:"add",onClick:e[0]||(e[0]=t=>r.create())},"➕ Add")]))])):(0,a.kq)("",!0)}var ca={name:"SportTile",data(){return{possibleSport:[{}],compets:[{}],isPremium:!1,form:!1,id:"",competName:"",sport:"",date:"",write:!1}},beforeMount(){this.getCompets(),this.getStatus()},methods:{getStatus(){"true"!=localStorage.getItem("isAdmin")&&"true"!=localStorage.getItem("isPremium")||(this.isPremium=!0)},async getCompets(){const t=localStorage.getItem("user").toString();await Q().get("http://localhost:4000/competitions/"+t+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((e=>{this.compets=e.data,this.compets.forEach((e=>{Q().get("http://localhost:4000/sports/"+t+"/"+e.sport,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{e.sportName=t.data[0].sportName})).catch((t=>{console.log(t)}))}))})).catch((t=>{console.log(t)}))},deleteCompet(t,e){tt().Confirm.show("Delete competition","Do you want to delete competition named : "+e+" ?","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/competitions/"+localStorage.getItem("user").toString()+"/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Competition "+e+" deleted with succes"),setTimeout("location.reload(true)",2e3),console.log(t)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("Competition "+e+" is not deleted")}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})},edit(t){const e="/competitions/form/"+t;Ua.push(e)},create(){Ua.push("/competitions/form/0")}}};const ua=(0,l.Z)(ca,[["render",la],["__scopeId","data-v-d12c58b6"]]);var da=ua,ma={name:"SportsView",components:{NavBar:Zt,CompetitionsTiles:da,Footer:E}};const ha=(0,l.Z)(ma,[["render",ta],["__scopeId","data-v-141fdbc0"]]);var pa=ha;const ga=t=>((0,a.dD)("data-v-4ccd3b3a"),t=t(),(0,a.Cn)(),t),fa={id:"all"},va=(0,a.Uk)("✖️"),ya=ga((()=>(0,a._)("label",{for:"competName"},"Competition Name",-1))),wa=ga((()=>(0,a._)("label",{for:"sport",class:"sport"},"Sport",-1))),Sa=ga((()=>(0,a._)("option",{disabled:"",value:""},"Choose...",-1))),ka=["value"],ba=ga((()=>(0,a._)("label",{for:"date"},"Date",-1))),_a=ga((()=>(0,a._)("label",{class:"place",for:"place"},"Place",-1))),Na=ga((()=>(0,a._)("button",{type:"submit",class:"btn"},"Submit",-1)));function Ia(t,e,o,s,r,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("router-link"),u=(0,a.up)("Datepicker"),d=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)("div",fa,[(0,a.Wm)(l),(0,a.Wm)(c,{id:"cross",to:"/competitions"},{default:(0,a.w5)((()=>[va])),_:1}),(0,a._)("form",{action:"",onSubmit:e[4]||(e[4]=(0,i.iM)((t=>n.sendData()),["prevent"]))},[ya,(0,a.wy)((0,a._)("input",{type:"text",name:"competName",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>r.competName=t),placeholder:"Enter the competition name"},null,512),[[i.nr,r.competName]]),wa,(0,a.wy)((0,a._)("select",{id:"sport","onUpdate:modelValue":e[1]||(e[1]=t=>r.sport=t)},[Sa,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.possibleSport,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.id,value:t.id},(0,yt.zw)(t.sportName),9,ka)))),128))],512),[[i.bM,r.sport]]),ba,(0,a.Wm)(u,{id:"date",modelValue:r.date,"onUpdate:modelValue":e[2]||(e[2]=t=>r.date=t),format:s.dateFormat,monthChangeOnScroll:!1,enableTimePicker:!1,autoApply:"",utc:""},null,8,["modelValue","format"]),_a,(0,a.wy)((0,a._)("input",{type:"text",name:"place",required:"","onUpdate:modelValue":e[3]||(e[3]=t=>r.place=t),placeholder:"Enter the competition place"},null,512),[[i.nr,r.place]]),Na],32),(0,a.Wm)(d)])}var Da={name:"ItemView",setup(){const t=(0,_i.iH)(new Date),e=t=>{const e=t.getDate(),o=t.getMonth()+1,i=t.getFullYear();return`${i}-${o}-${e}`};return{dateCalendar:t,dateFormat:e}},data(){return{possibleSport:[{}],competName:"",sport:"",date:"",place:""}},components:{NavBar:Zt,Datepicker:bi.Z,Footer:E},beforeMount(){this.getSports(),this.getValues()},methods:{async getValues(){if(0!=this.$route.params.id){const t=localStorage.getItem("user").toString();await Q().get("http://localhost:4000/competitions/"+t+"/"+this.$route.params.id,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.competName=t.data[0].competName,this.sport=t.data[0].sport,this.date=t.data[0].competDate,this.place=t.data[0].place})).catch((t=>{console.log(t)}))}},getSports(){Q().get("http://localhost:4000/sports/"+localStorage.getItem("user").toString()+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.possibleSport=t.data})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))},sendData(){this.verifiyCompet(this.competName)&&this.verifiyPlace(this.place)?tt().Confirm.show("Create competition","Do you want to create this competition ?","Yes","No",(()=>{Q().post("http://localhost:4000/competitions/"+localStorage.getItem("user")+"/",{competName:this.competName,sport:this.sport,competDate:this.date.split("T")[0],place:this.place},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),Ua.push("/competitions"),tt().Notify.success("Competition created !")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized..."):t.toString().includes("500")?tt().Notify.failure("Server Error..."):t.toString().includes("400")?tt().Notify.failure("Still fields to fill...",{closeButton:!0}):tt().Notify.failure("An error occured"),console.log(t)}))}),(()=>{tt().Notify.info("Competition is not created")}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"}):tt().Notify.warning("Little rascal...")},verifiyCompet(t){const e=/^((?!DROP|SELECT|scrpit|js).){2,}\S$/;return e.test(t)},verifiyPlace(t){const e=/^((?!DROP|SELECT|scrpit|js).){2,}\S$/;return e.test(t)}}};const Aa=(0,l.Z)(Da,[["render",Ia],["__scopeId","data-v-4ccd3b3a"]]);var za=Aa;const Ca=[{path:"/",name:"visitors",component:q},{path:"/about",name:"about",component:Z},{path:"/login",name:"login",component:it},{path:"/signup",name:"signup",component:pt},{path:"/users",name:"users",component:ce,meta:{requireAuth:!0}},{path:"/sports",name:"sports",component:Fe,meta:{requireAuth:!0}},{path:"/profil",name:"profil",component:jo,meta:{requireAuth:!0}},{path:"/search/:name",name:"search",component:Gi,meta:{requireAuth:!0}},{path:"/item",name:"item",component:si,meta:{requireAuth:!0}},{path:"/activityForm/:id",name:"activityForm",component:Di,meta:{requireAuth:!0}},{path:"/competitions",name:"competitions",component:pa,meta:{requireAuth:!0}},{path:"/competitions/form/:id",name:"competitionsForm",component:za,meta:{requireAuth:!0}}],Ba=(0,d.p7)({history:(0,d.PO)("/"),routes:Ca});Ba.beforeEach(((t,e,o)=>{t.meta.requireAuth?localStorage.getItem("token")?o():o("/"):o()}));var Ua=Ba,Pa=o(6884);(0,i.ri)(u).use(Ua).use(Pa.Z).mount("#app")},5766:function(t,e,o){"use strict";t.exports=o.p+"img/polytech.5d15b68f.png"},9022:function(t,e,o){"use strict";t.exports=o.p+"img/visitors.7c2a7584.png"},2480:function(){}},e={};function o(i){var a=e[i];if(void 0!==a)return a.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,o),s.exports}o.m=t,function(){var t=[];o.O=function(e,i,a,s){if(!i){var r=1/0;for(u=0;u<t.length;u++){i=t[u][0],a=t[u][1],s=t[u][2];for(var n=!0,l=0;l<i.length;l++)(!1&s||r>=s)&&Object.keys(o.O).every((function(t){return o.O[t](i[l])}))?i.splice(l--,1):(n=!1,s<r&&(r=s));if(n){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[i,a,s]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,s,r=i[0],n=i[1],l=i[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(l)var u=l(o)}for(e&&e(i);c<r.length;c++)s=r[c],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(u)},i=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(133)}));i=o.O(i)})();
//# sourceMappingURL=app.a87a3979.js.map