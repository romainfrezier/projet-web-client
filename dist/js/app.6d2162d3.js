(function(){var t={7634:function(t,e,o){"use strict";var i=o(9242),s=o(3396);const a={id:"app"};function r(t,e,o,i,r,n){const l=(0,s.up)("router-link"),c=(0,s.up)("router-view"),u=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(l,{to:"/"}),(0,s.Wm)(c),(0,s.Wm)(u)])}var n=o(5766);const l={id:"footer"},c=(0,s._)("p",null,[(0,s._)("a",{id:"git",href:"https://github.com/romainfrz",target:"blank"},"Â© Romain FREZIER - IG3")],-1),u=(0,s._)("a",{id:"polytech",href:"https://www.polytech.umontpellier.fr",target:"blank"},[(0,s._)("img",{id:"logoPolytech",src:n,alt:"logo-polytech"})],-1),d=[c,u];function m(t,e,o,i,a,r){return(0,s.wg)(),(0,s.iD)("div",l,d)}var h={name:"FooterAll"},p=o(89);const g=(0,p.Z)(h,[["render",m]]);var f=g,v={name:"UsersView",components:{Footer:f}};const y=(0,p.Z)(v,[["render",r]]);var w=y,S=o(678),k=o(9022);const b=t=>((0,s.dD)("data-v-41af220b"),t=t(),(0,s.Cn)(),t),_=b((()=>(0,s._)("div",{id:"ad"},[(0,s._)("img",{id:"ad-image",src:k,alt:"ad"})],-1)));function N(t,e,o,i,a,r){const n=(0,s.up)("Visitors");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n),_])}const B={id:"headerVisitor"},I={id:"title"},D=(0,s.Uk)("Poly'Activitiz"),A=(0,s.Uk)("About"),z=(0,s.Uk)("Login"),C=(0,s.Uk)("Signup");function P(t,e,o,i,a,r){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",B,[(0,s._)("div",I,[(0,s.Wm)(n,{to:"/"},{default:(0,s.w5)((()=>[D])),_:1})]),(0,s._)("nav",null,[(0,s.Wm)(n,{to:"/about"},{default:(0,s.w5)((()=>[A])),_:1}),(0,s.Wm)(n,{to:"/login"},{default:(0,s.w5)((()=>[z])),_:1}),(0,s.Wm)(n,{to:"/signup"},{default:(0,s.w5)((()=>[C])),_:1})])])}var U={name:"VisitorsPage"};const $=(0,p.Z)(U,[["render",P],["__scopeId","data-v-44c0f0d1"]]);var E=$,V={name:"VisitorsView",components:{Visitors:E}};const q=(0,p.Z)(V,[["render",N],["__scopeId","data-v-41af220b"]]);var T=q;const W=(0,s.uE)('<div id="about" data-v-796f5366><div class="part1" data-v-796f5366><p class="title" data-v-796f5366>Personnal Presentation</p><p class="content" data-v-796f5366> &amp;emsp Hello everyone, my name is Romain, and I am a student in third year of engineering school at Polytech Montpellier in the IT sector and Management.<br data-v-796f5366> &amp;emsp I have been a big sports enthusiast since I was very young, and I like particularly mountain sports such as skiing, hiking or both at the same time!<br data-v-796f5366> &amp;emsp During my year at Polytech, a web project was organized and we had to create a site entirely, and that&#39;s how I created Poly-Activitiz! </p><p class="title" data-v-796f5366>Contact Me</p><p class="content" data-v-796f5366> &amp;emsp If you have a question, or a remark on this site, you can contact me at the following address: poly.activitiz@gmail.com and I will try to answer as soon as possible.<br data-v-796f5366> &amp;emsp You can also find my work on GitHub by clicking on <a href="https://github.com/romainfrz" style="color:#393E46;" data-v-796f5366>this link</a> ! </p></div><div class="part2" data-v-796f5366><p class="title" data-v-796f5366>Web Site Presentation</p><p class="content" data-v-796f5366> &amp;emsp This website is the result of long hours of work. The objective is to allow all athletes, whether professional or not, to be able to follow their sports activities. <br data-v-796f5366> &amp;emsp Through the management of activities, athletes will be able to consult their statistics, specific to each activity, or more generally. <br data-v-796f5366> &amp;emsp By subscribing to the Premium subscription, users will also be able to manage their equipment, because we know that it is important to keep equipment in good condition.<br data-v-796f5366> &amp;emsp Premium users will also be able to follow the competitions offered by other users, in order to be always up to date with the latest news.<br data-v-796f5366> Many ideas are still being developed, so be sure to follow the evolution of this application, and I&#39;m sure you will be satisfied with the result! </p></div></div>',1);function F(t,e,o,i,a,r){const n=(0,s.up)("Visitors");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n),W])}var M={name:"VisitorsView",components:{Visitors:E}};const Y=(0,p.Z)(M,[["render",F],["__scopeId","data-v-796f5366"]]);var Z=Y;const x=t=>((0,s.dD)("data-v-5da824e1"),t=t(),(0,s.Cn)(),t),H={id:"content"},O=x((()=>(0,s._)("p",{id:"title"},"Login to your account",-1))),j={id:"form"},K=x((()=>(0,s._)("label",{for:"username"},"Username",-1))),L=x((()=>(0,s._)("label",{for:"password"},"Password",-1))),J=x((()=>(0,s._)("button",{type:"submit",class:"btn"},"Login",-1)));function R(t,e,o,a,r,n){const l=(0,s.up)("Visitors");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l),(0,s._)("div",H,[O,(0,s._)("div",j,[(0,s._)("form",{action:"",onSubmit:e[2]||(e[2]=(0,i.iM)((t=>n.sendData()),["prevent"]))},[K,(0,s.wy)((0,s._)("input",{type:"text",name:"username",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>r.username=t),placeholder:"Enter your username"},null,512),[[i.nr,r.username]]),L,(0,s.wy)((0,s._)("input",{type:"password",name:"password",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>r.password=t),placeholder:"Enter your password"},null,512),[[i.nr,r.password]]),J],32)])])])}var G=o(6265),Q=o.n(G),X=o(6852),tt=o.n(X),et={data(){return{username:"",password:""}},name:"VisitorsView",components:{Visitors:E},methods:{async sendData(){console.log("http://localhost:4000/"),this.verifiyUsername(this.username)&&this.verifiyPassword(this.password)?await Q().post("http://localhost:4000/login/",{username:this.$CryptoJS.AES.encrypt(this.username,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString(),password:this.$CryptoJS.AES.encrypt(this.password,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString()}).then((t=>{localStorage.setItem("user",this.$CryptoJS.AES.decrypt(t.data.userId,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString(this.$CryptoJS.enc.Utf8)),localStorage.setItem("isPremium",this.$CryptoJS.AES.decrypt(t.data.isPremium,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString(this.$CryptoJS.enc.Utf8)),localStorage.setItem("isAdmin",this.$CryptoJS.AES.decrypt(t.data.isAdmin,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString(this.$CryptoJS.enc.Utf8)),localStorage.setItem("token",t.data.token),Ss.push("/profil")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Wrong password or username",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0})})):this.verifiyUsername(this.username)||this.verifiyPassword(this.password)?this.verifiyUsername(this.username)&&!this.verifiyPassword(this.password)?tt().Notify.failure("Please enter a valid password",{closeButton:!0}):!this.verifiyUsername(this.username)&&this.verifiyPassword(this.password)&&tt().Notify.failure("Please enter a valid username",{closeButton:!0}):tt().Notify.failure("Please enter a valid username and password.",{closeButton:!0})},verifiyUsername(t){const e=/^(?=.*[a-z])[0-9a-zA-Z]{5,}\S$/;return e.test(t)},verifiyPassword(t){const e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{7,}\S$/;return e.test(t)}}};const ot=(0,p.Z)(et,[["render",R],["__scopeId","data-v-5da824e1"]]);var it=ot;const st=t=>((0,s.dD)("data-v-7e223b7c"),t=t(),(0,s.Cn)(),t),at={id:"content"},rt=st((()=>(0,s._)("p",{id:"title"},"Create a new account",-1))),nt={id:"form"},lt=st((()=>(0,s._)("label",{for:"username"},"Username",-1))),ct=st((()=>(0,s._)("label",{for:"password"},"Password",-1))),ut=st((()=>(0,s._)("button",{type:"submit"},"Register",-1)));function dt(t,e,o,a,r,n){const l=(0,s.up)("Visitors");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l),(0,s._)("div",at,[rt,(0,s._)("div",nt,[(0,s._)("form",{action:"",onSubmit:e[2]||(e[2]=(0,i.iM)((t=>n.sendData()),["prevent"]))},[lt,(0,s.wy)((0,s._)("input",{required:"",type:"text",name:"username","onUpdate:modelValue":e[0]||(e[0]=t=>r.username=t),placeholder:"Enter your username"},null,512),[[i.nr,r.username]]),ct,(0,s.wy)((0,s._)("input",{required:"",type:"password",name:"password","onUpdate:modelValue":e[1]||(e[1]=t=>r.password=t),placeholder:"Enter your password"},null,512),[[i.nr,r.password]]),ut],32)])])])}var mt={data(){return{username:"",password:""}},name:"VisitorsView",components:{Visitors:E},methods:{sendData(){this.verifiyUsername(this.username)&&this.verifiyPassword(this.password)?Q().post("http://localhost:4000/signup/",{username:this.$CryptoJS.AES.encrypt(this.username,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString(),password:this.$CryptoJS.AES.encrypt(this.password,"ashfbakhfkhbvcai5z346hbv456bvk3456k3n4b6kn").toString()}).then((t=>{tt().Notify.success("Your account has been created ! Please login now !",{closeButton:!0}),console.log(t),Ss.push("/login")})).catch((t=>{t.message.toString().includes("400")?tt().Notify.failure("This username is already used",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0})})):this.verifiyUsername(this.username)||this.verifiyPassword(this.password)?this.verifiyUsername(this.username)&&!this.verifiyPassword(this.password)?tt().Notify.failure("Your password must contain at least 8 characters, 1 number, 1 lowercase character, 1 uppercase character, no spaces and no special character",{closeButton:!0}):!this.verifiyUsername(this.username)&&this.verifiyPassword(this.password)&&tt().Notify.failure("Please enter a valid username.",{closeButton:!0}):tt().Notify.failure("Please enter a valid username.\nYour password must contain at least 8 characters, 1 number, 1 lowercase character, 1 uppercase character, no spaces and no special character",{closeButton:!0})},verifiyUsername(t){const e=/^(?=.*[a-z])[0-9a-zA-Z]{5,}\S$/;return e.test(t)},verifiyPassword(t){const e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{5,}\S$/;return e.test(t)}}};const ht=(0,p.Z)(mt,[["render",dt],["__scopeId","data-v-7e223b7c"]]);var pt=ht;const gt={id:"all"},ft={id:"content"};function vt(t,e,o,i,a,r){const n=(0,s.up)("NavBar"),l=(0,s.up)("User");return(0,s.wg)(),(0,s.iD)("div",gt,[(0,s.Wm)(n),(0,s._)("div",ft,[(0,s.Wm)(l)])])}var yt=o(7139);const wt={id:"headerAuth"},St={id:"title"},kt=(0,s.Uk)("Poly'Activitiz"),bt={id:"status"},_t={id:"tab"},Nt=(0,s.Uk)("ðŸ‘¨â€ðŸ’» Users"),Bt=(0,s.Uk)("ðŸ Competitions"),It=(0,s.Uk)("âš½ï¸ Sports ðŸŽ¾"),Dt=(0,s.Uk)("ðŸ™‹â€â™‚ï¸ My Profile");function At(t,e,o,a,r,n){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",wt,[(0,s._)("div",St,[(0,s.Wm)(l,{to:"/profil"},{default:(0,s.w5)((()=>[kt])),_:1})]),(0,s._)("nav",null,[(0,s._)("div",bt,[(0,s._)("p",null,(0,yt.zw)(r.status),1)]),(0,s._)("div",_t,[(0,s.wy)((0,s._)("input",{type:"text",name:"searchBar","onUpdate:modelValue":e[0]||(e[0]=t=>r.search=t),placeholder:"ðŸ”Ž Search an activity by name...",onKeypress:e[1]||(e[1]=(0,i.D2)((t=>n.searchActivity()),["enter"]))},null,544),[[i.nr,r.search]]),r.isAdmin?((0,s.wg)(),(0,s.j4)(l,{key:0,to:"/users"},{default:(0,s.w5)((()=>[Nt])),_:1})):(0,s.kq)("",!0),"Admin"==this.status||"Premium"==this.status?((0,s.wg)(),(0,s.j4)(l,{key:1,to:"/competitions"},{default:(0,s.w5)((()=>[Bt])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(l,{to:"/sports"},{default:(0,s.w5)((()=>[It])),_:1}),(0,s.Wm)(l,{to:"/profil"},{default:(0,s.w5)((()=>[Dt])),_:1})])])])}var zt={name:"AuthHeader",data(){return{status:"",isAdmin:!1,search:""}},beforeMount(){this.getStatus()},methods:{getStatus(){"true"==localStorage.getItem("isAdmin")?(this.status="Admin",this.isAdmin=!0):"true"==localStorage.getItem("isPremium")?this.status="Premium":this.status="Classic"},searchActivity(){if(""!=this.search){const t="/search/"+this.search;this.search="",location.replace(t)}else tt().Notify.info("You need to search something...")}}};const Ct=(0,p.Z)(zt,[["render",At],["__scopeId","data-v-1867cb06"]]);var Pt=Ct;const Ut=t=>((0,s.dD)("data-v-03feae94"),t=t(),(0,s.Cn)(),t),$t={class:"all"},Et={key:0,class:"contentAll"},Vt={key:0,class:"tiles"},qt={class:"content"},Tt={id:"name"},Wt={class:"button"},Ft=["onClick"],Mt=["onClick"],Yt={key:1,id:"WriteForm"},Zt=Ut((()=>(0,s._)("label",{for:"username"},"Username",-1))),xt=Ut((()=>(0,s._)("label",{for:"premium"},"Premium",-1))),Ht=Ut((()=>(0,s._)("label",{for:"admin"},"Admin",-1))),Ot=Ut((()=>(0,s._)("button",{type:"submit",class:"btn"},"Submit",-1)));function jt(t,e,o,a,r,n){return(0,s.wg)(),(0,s.iD)("div",$t,[r.form?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Et,[r.onScreen?((0,s.wg)(),(0,s.iD)("ul",Vt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.users,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tile"},[(0,s._)("div",qt,[(0,s._)("p",Tt,(0,yt.zw)(t.id)+". "+(0,yt.zw)(t.username),1),(0,s._)("p",null,"Admin : "+(0,yt.zw)(t.isAdmin),1),(0,s._)("p",null,"Premium : "+(0,yt.zw)(t.isPremium),1)]),(0,s._)("div",Wt,[(0,s._)("button",{onClick:e=>n.writeUser(t.id,t.username,t.isPremium,t.isAdmin),class:"write"},"âœï¸",8,Ft),(0,s._)("button",{onClick:e=>n.deleteUser(t.id,t.username),class:"delete"},"ðŸš®",8,Mt)])])))),128))])):(0,s.kq)("",!0)])),r.form?((0,s.wg)(),(0,s.iD)("div",Yt,[(0,s._)("p",{id:"cross",onClick:e[0]||(e[0]=t=>n.changeForm())},"âœ–ï¸"),(0,s._)("form",{action:"",onSubmit:e[4]||(e[4]=(0,i.iM)((t=>n.sendData()),["prevent"]))},[Zt,(0,s.wy)((0,s._)("input",{type:"text",name:"username",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>r.username=t),placeholder:"Enter the username"},null,512),[[i.nr,r.username]]),xt,(0,s.wy)((0,s._)("input",{type:"checkbox",name:"premium","onUpdate:modelValue":e[2]||(e[2]=t=>r.isPremium=t)},null,512),[[i.e8,r.isPremium]]),Ht,(0,s.wy)((0,s._)("input",{type:"checkbox",name:"admin","onUpdate:modelValue":e[3]||(e[3]=t=>r.isAdmin=t)},null,512),[[i.e8,r.isAdmin]]),Ot],32)])):(0,s.kq)("",!0)])}o(1703);var Kt={name:"UserTile",data(){return{users:[{}],onScreen:!0,form:!1,id:"",username:"",isAdmin:!1,isPremium:!1}},beforeMount(){this.getUsers()},methods:{getUsers(){Q().get("http://localhost:4000/users/"+localStorage.getItem("user").toString()+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.users=t.data})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),this.onScreen=!1,console.log(t)}))},deleteUser(t,e){tt().Confirm.show("Delete user","Do you want to delete user with username : "+e+" ?","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/users/"+localStorage.getItem("user").toString()+"/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("User "+e+" deleted with succes",{closeButton:!0}),setTimeout("location.reload(true)",2e3),console.log(t)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("User "+e+" is not deleted",{closeButton:!0})}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})},changeForm(){this.form=!this.form},verifiyUsername(t){const e=/^(?=.*[a-z])[0-9a-zA-Z]{5,}\S$/;return e.test(t)},async writeUser(t,e,o,i){this.isAdmin=i,this.isPremium=o,this.username=e,this.id=t,this.changeForm()},sendData(){if(!this.verifiyUsername(this.sport))return Error;tt().Confirm.show("Modify user","Do you want to modify this user ?","Yes","No",(()=>{Q().put("http://localhost:4000/users/"+localStorage.getItem("user")+"/"+this.id+"/",{username:this.username,isAdmin:this.isAdmin,isPremium:this.isPremium},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),this.username="",this.isPremium=!1,this.isAdmin=!1,this.id="",this.changeForm(),setTimeout("location.reload(true)",2e3),tt().Notify.success("User modified !",{closeButton:!0})})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("User is not modified",{closeButton:!0})}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})}}};const Lt=(0,p.Z)(Kt,[["render",jt],["__scopeId","data-v-03feae94"]]);var Jt=Lt,Rt={name:"UsersView",components:{NavBar:Pt,User:Jt}};const Gt=(0,p.Z)(Rt,[["render",vt],["__scopeId","data-v-489a5849"]]);var Qt=Gt;const Xt={id:"all"},te={id:"content"};function ee(t,e,o,i,a,r){const n=(0,s.up)("NavBar"),l=(0,s.up)("SportTiles");return(0,s.wg)(),(0,s.iD)("div",Xt,[(0,s.Wm)(n),(0,s._)("div",te,[(0,s.Wm)(l)])])}const oe=t=>((0,s.dD)("data-v-11fdec1f"),t=t(),(0,s.Cn)(),t),ie={id:"all1"},se={key:0,class:"content1"},ae={key:0,class:"tiles"},re={class:"content"},ne={key:0,class:"button"},le=["onClick"],ce=["onClick"],ue={key:1,id:"addWriteForm"},de=oe((()=>(0,s._)("label",{for:"sportName"},"Sport Name",-1))),me=oe((()=>(0,s._)("label",{for:"period"},"Period",-1))),he=oe((()=>(0,s._)("option",{disabled:"",value:""},"Choose...",-1))),pe=oe((()=>(0,s._)("option",{value:"Winter"},"Winter",-1))),ge=oe((()=>(0,s._)("option",{value:"Summer"},"Summer",-1))),fe=oe((()=>(0,s._)("option",{value:"Summer/Winter"},"Summer & Winter",-1))),ve=[he,pe,ge,fe],ye=oe((()=>(0,s._)("button",{type:"submit",class:"btn"},"Submit",-1)));function we(t,e,o,a,r,n){return(0,s.wg)(),(0,s.iD)("div",ie,[r.form?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",se,[r.form?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("ul",ae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sports,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tile"},[(0,s._)("div",re,[(0,s._)("p",null,(0,yt.zw)(t.sportName),1),(0,s._)("p",null,"Period : "+(0,yt.zw)(t.sportPeriod),1)]),r.isAdmin?((0,s.wg)(),(0,s.iD)("div",ne,[(0,s._)("button",{onClick:e=>n.writeSport(t.id,t.sportName,t.sportPeriod),class:"write"},"âœï¸",8,le),(0,s._)("button",{onClick:e=>n.deleteSport(t.id,t.sportName),class:"delete"},"ðŸš®",8,ce)])):(0,s.kq)("",!0)])))),128))])),r.isAdmin?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"add",onClick:e[0]||(e[0]=t=>n.changeForm())},"âž• Add")):(0,s.kq)("",!0)])),r.form?((0,s.wg)(),(0,s.iD)("div",ue,[(0,s._)("p",{id:"cross",onClick:e[1]||(e[1]=t=>n.changeForm())},"âœ–ï¸"),(0,s._)("form",{action:"",onSubmit:e[4]||(e[4]=(0,i.iM)((t=>n.sendData()),["prevent"]))},[de,(0,s.wy)((0,s._)("input",{type:"text",name:"sportName",required:"","onUpdate:modelValue":e[2]||(e[2]=t=>r.sport=t),placeholder:"Enter the sport name"},null,512),[[i.nr,r.sport]]),me,(0,s.wy)((0,s._)("select",{name:"period",id:"period","onUpdate:modelValue":e[3]||(e[3]=t=>r.period=t)},ve,512),[[i.bM,r.period]]),ye],32)])):(0,s.kq)("",!0)])}var Se={name:"SportTile",data(){return{sports:[{}],isAdmin:!1,onScreen:!0,form:!1,id:"",sport:"",period:"",write:!1}},beforeMount(){this.getSports()},methods:{getSports(){Q().get("http://localhost:4000/sports/"+localStorage.getItem("user").toString()+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.sports=t.data,"true"==localStorage.getItem("isAdmin")&&(this.isAdmin=!0)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),this.onScreen=!1,console.log(t)}))},deleteSport(t,e){tt().Confirm.show("Delete sport","Do you want to delete sport named : "+e+" ?","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/sports/"+localStorage.getItem("user").toString()+"/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Sport "+e+" deleted with succes",{closeButton:!0}),setTimeout("location.reload(true)",2e3),console.log(t)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("Sport "+e+". is not deleted",{closeButton:!0})}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})},writeSport(t,e,o){this.changeForm(),this.write=!0,this.sport=e,this.period=o,this.id=t},changeForm(){this.form=!this.form,this.sport="",this.period=""},sendData(){if(this.write){if(!this.verifiySport(this.sport)||!this.verifiyPeriod(this.period))return Error;tt().Confirm.show("Modify sport","Do you want to modify this sport ?","Yes","No",(()=>{Q().put("http://localhost:4000/sports/"+localStorage.getItem("user")+"/"+this.id+"/",{sportName:this.sport,sportPeriod:this.period},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),this.changeForm(),setTimeout("location.reload(true)",2e3),tt().Notify.success("Sport modified !",{closeButton:!0})})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("Sport is not modified",{closeButton:!0})}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})}else{if(!this.verifiySport(this.sport)||!this.verifiyPeriod(this.period))return Error;tt().Confirm.show("Create sport","Do you want to create this sport ?","Yes","No",(()=>{Q().post("http://localhost:4000/sports/"+localStorage.getItem("user")+"/",{sportName:this.sport,sportPeriod:this.period},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),this.changeForm(),setTimeout("location.reload(true)",2e3),tt().Notify.success("Sport created !",{closeButton:!0})})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("Sport is not created",{closeButton:!0})}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})}},verifiySport(t){const e=/^((?!DROP|SELECT|scrpit|js).){2,}\S$/;return e.test(t)},verifiyPeriod(t){const e=/^((?!DROP|SELECT|scrpit|js).){3,}\S$/;return e.test(t)}}};const ke=(0,p.Z)(Se,[["render",we],["__scopeId","data-v-11fdec1f"]]);var be=ke,_e={name:"SportsView",components:{NavBar:Pt,SportTiles:be}};const Ne=(0,p.Z)(_e,[["render",ee],["__scopeId","data-v-37c4b110"]]);var Be=Ne;const Ie=t=>((0,s.dD)("data-v-9ce2aa70"),t=t(),(0,s.Cn)(),t),De={id:"all"},Ae={id:"content"},ze={id:"activity"},Ce=Ie((()=>(0,s._)("p",{class:"title"},"ðŸ† My Activities",-1))),Pe={id:"stat"},Ue=Ie((()=>(0,s._)("p",{class:"title"},"ðŸ“¶ My Stats",-1))),$e={id:"item"},Ee=Ie((()=>(0,s._)("p",{class:"title"},"ðŸŽ¿ My Items",-1))),Ve={key:0,id:"ad"},qe={key:1},Te={class:"add"},We=(0,s.Uk)("âž• Add"),Fe={id:"setting"},Me=Ie((()=>(0,s._)("p",{class:"title"},"âš™ï¸ Settings",-1))),Ye={id:"buttons"};function Ze(t,e,o,i,a,r){const n=(0,s.up)("NavBar"),l=(0,s.up)("ActivityTiles"),c=(0,s.up)("StatTiles"),u=(0,s.up)("ItemTiles"),d=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",De,[(0,s.Wm)(n),(0,s._)("div",Ae,[(0,s._)("div",ze,[Ce,(0,s.Wm)(l)]),(0,s._)("div",Pe,[Ue,(0,s.Wm)(c)]),(0,s._)("div",$e,[Ee,a.isPremium?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",Ve,"This section will be available if you subscribe to premium access")),a.isPremium?((0,s.wg)(),(0,s.iD)("div",qe,[(0,s.Wm)(u),(0,s._)("button",Te,[(0,s.Wm)(d,{to:"/item"},{default:(0,s.w5)((()=>[We])),_:1})])])):(0,s.kq)("",!0)]),(0,s._)("div",Fe,[Me,(0,s._)("div",Ye,[(0,s._)("button",{id:"del",onClick:e[0]||(e[0]=t=>r.delAccount())},"Delete Account ðŸš®"),(0,s._)("button",{id:"prem",onClick:e[1]||(e[1]=t=>r.changePrem())},(0,yt.zw)(this.premium)+" Premium Access ðŸ’³",1),(0,s._)("button",{onClick:e[2]||(e[2]=t=>r.logout()),id:"logout"},"Log out ðŸ’¤")])])])])}const xe={key:0},He={class:"tiles"},Oe={class:"content"},je={class:"button"},Ke=["onClick"],Le=["onClick"],Je=["onClick"],Re={key:1,class:"detail"},Ge={class:"title"},Qe={class:"desc"},Xe={key:0},to={key:1},eo={key:2},oo={key:3},io={key:4};function so(t,e,o,i,a,r){return(0,s.wg)(),(0,s.iD)("div",null,[a.isDetail?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xe,[(0,s._)("ul",He,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.activities,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tile"},[(0,s._)("div",Oe,[(0,s._)("p",null,(0,yt.zw)(t.activityName),1),(0,s._)("p",null,(0,yt.zw)(t.sportName),1),(0,s._)("p",null,(0,yt.zw)(t.date),1)]),(0,s._)("div",je,[(0,s._)("button",{onClick:e=>r.seeActivity(t.id,t.activityName,t.sportName,t.date,t.item),class:"see"},"ðŸ‘€",8,Ke),(0,s._)("button",{onClick:e=>r.deleteActivity(t.id,t.activityName),class:"delete"},"ðŸš®",8,Le),(0,s._)("button",{onClick:e=>r.edit(t.id)},"âœï¸",8,Je)])])))),128))]),(0,s._)("button",{class:"add",onClick:e[0]||(e[0]=t=>r.create())},"âž• Add")])),a.isDetail?((0,s.wg)(),(0,s.iD)("div",Re,[(0,s._)("p",{class:"cross",onClick:e[1]||(e[1]=t=>r.changeDetail())},"âœ–ï¸"),(0,s._)("p",Ge,(0,yt.zw)(a.name),1),(0,s._)("div",Qe,[(0,s._)("p",null,"Your "+(0,yt.zw)(a.sport)+" activity on "+(0,yt.zw)(a.date)+" :",1),0!=this.stats.distance?((0,s.wg)(),(0,s.iD)("p",Xe,"ðŸ“ Distance : "+(0,yt.zw)(this.stats.distance)+" km",1)):(0,s.kq)("",!0),0!=this.stats.time?((0,s.wg)(),(0,s.iD)("p",to,"â± Time : "+(0,yt.zw)(this.stats.time)+" minutes",1)):(0,s.kq)("",!0),0!=this.stats.speed?((0,s.wg)(),(0,s.iD)("p",eo,"ðŸŽ Average speed : "+(0,yt.zw)(this.stats.speed)+" km/h",1)):(0,s.kq)("",!0),0!=this.stats.height?((0,s.wg)(),(0,s.iD)("p",oo,"â›° Height difference : +"+(0,yt.zw)(this.stats.height)+" m",1)):(0,s.kq)("",!0),this.item?((0,s.wg)(),(0,s.iD)("p",io,"ðŸŽ¿ Item used : "+(0,yt.zw)(this.item),1)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var ao={name:"ActivityTiles",data(){return{activities:[{}],isDetail:!1,stats:{distance:0,height:0,time:0,speed:0},name:"",item:"",date:"",sport:""}},mounted(){this.getActivities()},methods:{async getActivities(){const t=localStorage.getItem("user").toString();await Q().get("http://localhost:4000/activities/"+t+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((e=>{this.activities=e.data,this.activities.forEach((e=>{Q().get("http://localhost:4000/sports/"+t+"/"+e.sportId,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{e.sportName=t.data[0].sportName})).catch((t=>{console.log(t)}))}))})).catch((t=>{console.log(t)}))},deleteActivity(t,e){tt().Confirm.show("Delete activity","Do you want to delete activity named : "+e+" ?","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/activities/"+localStorage.getItem("user")+"/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Activity "+e+" deleted with succes",{closeButton:!0}),setTimeout("location.reload(true)",2e3),console.log(t)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("Activity "+e+" is not deleted",{closeButton:!0})}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})},changeDetail(){this.isDetail=!this.isDetail},async seeActivity(t,e,o,i,s){this.name=e,this.sport=o,this.date=i,this.stats={distance:0,height:0,time:0,speed:0},await Q().get("http://localhost:4000/statValues/"+localStorage.getItem("user")+"/activity/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{t.data.forEach((t=>{"time"==t.stat&&(this.stats.time+=parseInt(t.value)),"distance"==t.stat&&(this.stats.distance+=parseInt(t.value)),"height"==t.stat&&(this.stats.height+=parseInt(t.value))})),0!=this.stats.distance&&0!=this.stats.time&&(this.stats.speed=(this.stats.distance/(this.stats.time/60)).toFixed(2)),""!=this.item&&Q().get("http://localhost:4000/items/"+localStorage.getItem("user")+"/"+s,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.item=t.data.itemName})).catch((t=>{console.log(t)})),this.changeDetail()})).catch((t=>{console.log(t)}))},edit(t){const e="/activityForm/"+t;Ss.push(e)},create(){Ss.push("/activityForm/0")}}};const ro=(0,p.Z)(ao,[["render",so],["__scopeId","data-v-59eb1aa8"]]);var no=ro;const lo={class:"tiles"},co={class:"content"},uo={key:0},mo={class:"button"},ho=["onClick"];function po(t,e,o,i,a,r){return(0,s.wg)(),(0,s.iD)("ul",lo,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.itemsAll,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tile"},[(0,s._)("div",co,[(0,s._)("p",null,(0,yt.zw)(t.itemName),1),(0,s._)("p",null,(0,yt.zw)(t.sportName),1),t.usage?((0,s.wg)(),(0,s.iD)("p",uo,(0,yt.zw)(t.usage)+" km",1)):(0,s.kq)("",!0)]),(0,s._)("div",mo,[(0,s._)("button",{onClick:e=>r.deleteItem(t.id,t.itemName),class:"delete"},"ðŸš®",8,ho)])])))),128))])}var go={name:"ItemTiles",data(){return{itemsAll:[{}]}},beforeMount(){this.getItems()},methods:{async getItems(){await Q().get("http://localhost:4000/items/"+localStorage.getItem("user")+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.itemsAll=t.data,this.itemsAll.forEach((t=>{Q().get("http://localhost:4000/sports/"+localStorage.getItem("user")+"/"+t.sportId,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((e=>{t.sportName=e.data[0].sportName})).catch((t=>{console.log(t)}))}))})).catch((t=>{console.log(t)}))},deleteItem(t,e){tt().Confirm.show("Delete item","Do you want to delete item named : "+e+" ?","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/items/"+localStorage.getItem("user")+"/"+t+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Item "+e+" deleted with succes",{closeButton:!0}),setTimeout("location.reload(true)",2e3),console.log(t)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("Item "+e+" is not deleted",{closeButton:!0})}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})}}};const fo=(0,p.Z)(go,[["render",po],["__scopeId","data-v-79e4f38e"]]);var vo=fo;const yo={key:0,class:"tiles"},wo={class:"content"},So={class:"button"},ko=["onClick"],bo={key:1,class:"detail"},_o={class:"title"},No={id:"totals"},Bo={key:0},Io={key:1},Do={key:2},Ao={key:3};function zo(t,e,o,i,a,r){return(0,s.wg)(),(0,s.iD)("div",null,[a.isDetail?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("ul",yo,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.stats,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tile"},[(0,s._)("div",wo,[(0,s._)("p",null,(0,yt.zw)(t.statName),1)]),(0,s._)("div",So,[(0,s._)("button",{onClick:e=>r.seeStat(t.statName),class:"see"},"ðŸ‘€",8,ko)])])))),128))])),a.isDetail?((0,s.wg)(),(0,s.iD)("div",bo,[(0,s._)("p",{class:"cross",onClick:e[0]||(e[0]=t=>r.changeDetail())},"âœ–ï¸"),(0,s._)("p",_o,(0,yt.zw)(a.stat),1),(0,s._)("div",No,["Distance"==this.stat?((0,s.wg)(),(0,s.iD)("p",Bo,"Total : "+(0,yt.zw)(a.sum)+" km",1)):(0,s.kq)("",!0),"Time"==this.stat?((0,s.wg)(),(0,s.iD)("p",Io,"Total : "+(0,yt.zw)(a.sum)+" minutes",1)):(0,s.kq)("",!0),"Height difference"==this.stat?((0,s.wg)(),(0,s.iD)("p",Do,"Total : +"+(0,yt.zw)(a.sum)+" m",1)):(0,s.kq)("",!0),"Speed"==this.stat?((0,s.wg)(),(0,s.iD)("p",Ao,"Average speed : "+(0,yt.zw)(a.sum)+" km/h",1)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var Co={name:"StatTiles",data(){return{stats:[{statName:"Distance"},{statName:"Height difference"},{statName:"Time"},{statName:"Speed"}],isDetail:!1,stat:"",sum:0,sumForSpeed:0}},methods:{async seeStat(t){this.changeDetail(),this.stat=t,this.sum=0,this.sumForSpeed=0;const e=localStorage.getItem("user");"Distance"==t&&await Q().get("http://localhost:4000/statValues/"+e+"/distance",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),t.data.forEach((t=>{this.sum+=parseInt(t.value)}))})).catch((t=>{console.log(t)})),"Time"==t&&await Q().get("http://localhost:4000/statValues/"+e+"/time",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),t.data.forEach((t=>{this.sum+=parseInt(t.value)}))})).catch((t=>{console.log(t)})),"Height difference"==t&&await Q().get("http://localhost:4000/statValues/"+e+"/height",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),t.data.forEach((t=>{this.sum+=parseInt(t.value)}))})).catch((t=>{console.log(t)})),"Speed"==t&&(await Q().get("http://localhost:4000/statValues/"+e+"/time",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{t.data.forEach((t=>{this.sum+=parseInt(t.value)}))})).catch((t=>{console.log(t)})),await Q().get("http://localhost:4000/statValues/"+e+"/distance",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{t.data.forEach((t=>{this.sumForSpeed+=parseInt(t.value)}))})).catch((t=>{console.log(t)})),console.log(this.sum),console.log(this.sumForSpeed),this.sum=(parseInt(this.sumForSpeed)/(parseInt(this.sum)/60)).toFixed(2))},changeDetail(){this.isDetail=!this.isDetail}}};const Po=(0,p.Z)(Co,[["render",zo],["__scopeId","data-v-0064f0dd"]]);var Uo=Po,$o={name:"ProfilView",components:{NavBar:Pt,ActivityTiles:no,ItemTiles:vo,StatTiles:Uo},data(){return{premium:"",isPremium:!1,isAdmin:!1}},beforeMount(){this.btnPremium(),this.admin()},methods:{admin(){"true"==localStorage.getItem("isAdmin")&&(this.isAdmin=!0)},btnPremium(){"true"==localStorage.getItem("isPremium")?(this.premium="Leave",this.isPremium=!0):this.premium="Get"},logout(){localStorage.clear(),Ss.push("/")},changePrem(){"Leave"==this.premium?tt().Confirm.show("Premium Access","Do you want to leave your premium access ?","Yes","No",(()=>{Q().put("http://localhost:4000/users/"+localStorage.getItem("user").toString()+"/"+localStorage.getItem("user").toString()+"/",{isPremium:!1},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Premium subscription leaved with succes",{closeButton:!0}),setTimeout("location.reload(true)",2e3),console.log(t),localStorage.setItem("isPremium","false")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("Premium subscription is still alive",{closeButton:!0})}),{titleColor:"goldenrod",okButtonBackground:"goldenrod"}):"Get"==this.premium&&tt().Confirm.show("Premium Access","Do you want to get your premium access for $5 (fake)?","Yes","No",(()=>{Q().put("http://localhost:4000/users/"+localStorage.getItem("user").toString()+"/"+localStorage.getItem("user").toString()+"/",{isPremium:!0},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Premium subscription successfully obtained",{closeButton:!0}),setTimeout("location.reload(true)",2e3),console.log(t),localStorage.setItem("isPremium","true")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("Premium subscription is still available",{closeButton:!0})}),{titleColor:"goldenrod",okButtonBackground:"goldenrod"})},delAccount(){tt().Confirm.show("Delete account","Do you want to delete your account ? This action is final and you cannot go back.","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/users/"+localStorage.getItem("user").toString()+"/"+localStorage.getItem("user").toString()+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Your account has been deleted...",{closeButton:!0}),setTimeout(Ss.push("/"),2e3),console.log(t),localStorage.setItem("isPremium","true")})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("Your account is still alive",{closeButton:!0})}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})}}};const Eo=(0,p.Z)($o,[["render",Ze],["__scopeId","data-v-9ce2aa70"]]);var Vo=Eo;const qo=t=>((0,s.dD)("data-v-ca355124"),t=t(),(0,s.Cn)(),t),To={id:"all"},Wo=(0,s.Uk)("âœ–ï¸"),Fo=qo((()=>(0,s._)("label",{for:"itemName"},"Item Name",-1))),Mo=qo((()=>(0,s._)("label",{for:"usage"},"Usage (optional)",-1))),Yo=qo((()=>(0,s._)("label",{for:"sport"},"Sport",-1))),Zo=qo((()=>(0,s._)("option",{disabled:"",value:""},"Choose...",-1))),xo=["value"],Ho=qo((()=>(0,s._)("button",{type:"submit",class:"btn"},"Submit",-1)));function Oo(t,e,o,a,r,n){const l=(0,s.up)("NavBar"),c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",To,[(0,s.Wm)(l),(0,s.Wm)(c,{id:"cross",to:"/profil"},{default:(0,s.w5)((()=>[Wo])),_:1}),(0,s._)("form",{id:"itemForm",action:"",onSubmit:e[3]||(e[3]=(0,i.iM)((t=>n.sendDataItem()),["prevent"]))},[Fo,(0,s.wy)((0,s._)("input",{type:"text",name:"itemName",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>r.item=t),placeholder:"Enter the item name"},null,512),[[i.nr,r.item]]),Mo,(0,s.wy)((0,s._)("input",{type:"text",name:"usage","onUpdate:modelValue":e[1]||(e[1]=t=>r.usage=t),placeholder:"Enter the usage (km)"},null,512),[[i.nr,r.usage]]),Yo,(0,s.wy)((0,s._)("select",{id:"sport","onUpdate:modelValue":e[2]||(e[2]=t=>r.sport=t)},[Zo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.possibleSport,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,yt.zw)(t.sportName),9,xo)))),128))],512),[[i.bM,r.sport]]),Ho],32)])}var jo={name:"ItemView",data(){return{possibleSport:[{}],usage:"",item:"",sport:""}},components:{NavBar:Pt},beforeMount(){this.getSports()},methods:{getSports(){Q().get("http://localhost:4000/sports/"+localStorage.getItem("user").toString()+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.possibleSport=t.data})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))},async sendDataItem(){let t;t=""==this.usage?null:this.usage,await Q().post("http://localhost:4000/items/"+localStorage.getItem("user")+"/",{itemName:this.item,usage:t,sportId:this.sport,user:localStorage.getItem("user")},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),Ss.push("/profil"),tt().Notify.success("Item created",{closeButton:!0})})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}}};const Ko=(0,p.Z)(jo,[["render",Oo],["__scopeId","data-v-ca355124"]]);var Lo=Ko;const Jo=t=>((0,s.dD)("data-v-915613d2"),t=t(),(0,s.Cn)(),t),Ro={id:"all"},Go=(0,s.Uk)("âœ–ï¸"),Qo=Jo((()=>(0,s._)("label",{for:"activityName"},"Activity Name",-1))),Xo=Jo((()=>(0,s._)("label",{for:"item"},"Item (optional)",-1))),ti=Jo((()=>(0,s._)("option",{disabled:"",value:""},"Choose...",-1))),ei=["value"],oi=Jo((()=>(0,s._)("label",{for:"date"},"Date",-1))),ii=Jo((()=>(0,s._)("label",{for:"sport",class:"sport"},"Sport",-1))),si=Jo((()=>(0,s._)("option",{disabled:"",value:""},"Choose...",-1))),ai=["value"],ri=Jo((()=>(0,s._)("label",{for:"distance"},"Distance in km (optional)",-1))),ni=Jo((()=>(0,s._)("label",{for:"height"},"Height difference in m (optional)",-1))),li=Jo((()=>(0,s._)("label",{for:"time"},"Time in min (optional)",-1))),ci=Jo((()=>(0,s._)("button",{type:"submit",class:"btn"},"Submit",-1)));function ui(t,e,o,a,r,n){const l=(0,s.up)("NavBar"),c=(0,s.up)("router-link"),u=(0,s.up)("Datepicker");return(0,s.wg)(),(0,s.iD)("div",Ro,[(0,s.Wm)(l),(0,s.Wm)(c,{id:"cross",to:"/profil"},{default:(0,s.w5)((()=>[Go])),_:1}),(0,s._)("form",{id:"activityForm",action:"",onSubmit:e[7]||(e[7]=(0,i.iM)((t=>n.sendDataSport()),["prevent"]))},[Qo,(0,s.wy)((0,s._)("input",{type:"text",name:"activityName",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>r.activity=t),placeholder:"Enter the activity name"},null,512),[[i.nr,r.activity]]),Xo,(0,s.wy)((0,s._)("select",{id:"item","onUpdate:modelValue":e[1]||(e[1]=t=>r.item=t)},[ti,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.itemsAll,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,yt.zw)(t.itemName),9,ei)))),128))],512),[[i.bM,r.item]]),oi,(0,s.Wm)(u,{id:"date",modelValue:r.date,"onUpdate:modelValue":e[2]||(e[2]=t=>r.date=t),format:a.dateFormat,monthChangeOnScroll:!1,enableTimePicker:!1,autoApply:"",utc:""},null,8,["modelValue","format"]),ii,(0,s.wy)((0,s._)("select",{id:"sport","onUpdate:modelValue":e[3]||(e[3]=t=>r.sport=t)},[si,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.possibleSport,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,yt.zw)(t.sportName),9,ai)))),128))],512),[[i.bM,r.sport]]),ri,(0,s.wy)((0,s._)("input",{type:"number",name:"distance","onUpdate:modelValue":e[4]||(e[4]=t=>r.distance=t),min:"0",max:"150"},null,512),[[i.nr,r.distance]]),ni,(0,s.wy)((0,s._)("input",{type:"number",name:"height","onUpdate:modelValue":e[5]||(e[5]=t=>r.height=t),min:"1",max:"6000"},null,512),[[i.nr,r.height]]),li,(0,s.wy)((0,s._)("input",{type:"number",name:"time","onUpdate:modelValue":e[6]||(e[6]=t=>r.time=t),min:"1",max:"900"},null,512),[[i.nr,r.time]]),ci],32)])}var di=o(5776),mi=o(4870),hi={name:"ActivityFromView",setup(){const t=(0,mi.iH)(new Date),e=t=>{const e=t.getDate(),o=t.getMonth()+1,i=t.getFullYear();return`${i}-${o}-${e}`};return{dateCalendar:t,dateFormat:e}},data(){return{possibleSport:[{}],item:"",activity:"",sport:"",date:"",itemsAll:[{}],distance:"",height:"",time:""}},components:{NavBar:Pt,Datepicker:di.Z},beforeMount(){this.getSports(),this.getItems(),this.getValues()},methods:{async getValues(){if(0!=this.$route.params.id){const t=localStorage.getItem("user").toString();await Q().get("http://localhost:4000/activities/"+t+"/"+this.$route.params.id,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.activity=t.data[0].activityName,this.sport=t.data[0].sportId,this.item=t.data[0].item,this.date=t.data[0].date,Q().get("http://localhost:4000/statValues/"+localStorage.getItem("user")+"/activity/"+this.$route.params.id,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{t.data.forEach((t=>{"time"==t.stat&&(this.time+=parseInt(t.value)),"distance"==t.stat&&(this.distance+=parseInt(t.value)),"height"==t.stat&&(this.height+=parseInt(t.value))})),0!=this.distance&&0!=this.time&&(this.speed+=parseInt(this.distance)/(parseInt(this.time)/60).toFixed(2))})).catch((t=>{console.log(t)}))})).catch((t=>{console.log(t)}))}},getSports(){Q().get("http://localhost:4000/sports/"+localStorage.getItem("user").toString()+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.possibleSport=t.data})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))},async getItems(){await Q().get("http://localhost:4000/items/"+localStorage.getItem("user")+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.itemsAll=t.data})).catch((t=>{console.log(t)}))},async sendDataSport(){await Q().post("http://localhost:4000/activities/"+localStorage.getItem("user")+"/",{activityName:this.activity,item:this.item,sportId:this.sport,date:this.date.split("T")[0]},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{""!=this.distance&&Q().post("http://localhost:4000/statValues/"+localStorage.getItem("user")+"/distance/",{activity:t.data.id,value:this.distance},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t)})).catch((t=>{console.log(t)})),""!=this.time&&Q().post("http://localhost:4000/statValues/"+localStorage.getItem("user")+"/time",{activity:t.data.id,value:this.time},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t)})).catch((t=>{console.log(t)})),""!=this.height&&Q().post("http://localhost:4000/statValues/"+localStorage.getItem("user")+"/height",{activity:t.data.id,value:this.height},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t)})).catch((t=>{console.log(t)})),console.log(t.data),Ss.push("/profil"),tt().Notify.success("Activity created",{closeButton:!0})})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}}};const pi=(0,p.Z)(hi,[["render",ui],["__scopeId","data-v-915613d2"]]);var gi=pi;const fi=t=>((0,s.dD)("data-v-8dd8aac6"),t=t(),(0,s.Cn)(),t),vi={id:"all"},yi={id:"content"},wi={key:0},Si={key:0,class:"tiles"},ki={class:"content"},bi={class:"button"},_i=["onClick"],Ni=["onClick"],Bi=["onClick"],Ii={key:1,class:"detail"},Di={class:"title"},Ai={class:"desc"},zi={key:0},Ci={key:1},Pi={key:2},Ui={key:3},$i={key:4},Ei={key:1,class:"message"},Vi=fi((()=>(0,s._)("p",null,"No activities found with this name...",-1))),qi=[Vi];function Ti(t,e,o,i,a,r){const n=(0,s.up)("NavBar");return(0,s.wg)(),(0,s.iD)("div",vi,[(0,s.Wm)(n),(0,s._)("div",yi,[a.isEmpty?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",wi,[a.isDetail?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("ul",Si,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.activities,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tile"},[(0,s._)("div",ki,[(0,s._)("p",null,(0,yt.zw)(t.activityName),1),(0,s._)("p",null,(0,yt.zw)(t.sportName),1),(0,s._)("p",null,(0,yt.zw)(t.date),1)]),(0,s._)("div",bi,[(0,s._)("button",{onClick:e=>r.seeActivity(t.id,t.activityName,t.sportName,t.date,t.item),class:"see"},"ðŸ‘€",8,_i),(0,s._)("button",{onClick:e=>r.deleteActivity(t.id,t.activityName),class:"delete"},"ðŸš®",8,Ni),(0,s._)("button",{onClick:e=>r.edit(t.id)},"âœï¸",8,Bi)])])))),128))])),a.isDetail?((0,s.wg)(),(0,s.iD)("div",Ii,[(0,s._)("p",{class:"cross",onClick:e[0]||(e[0]=t=>r.changeDetail())},"âœ–ï¸"),(0,s._)("p",Di,(0,yt.zw)(a.name),1),(0,s._)("div",Ai,[(0,s._)("p",null,"Your "+(0,yt.zw)(a.sport)+" activity on "+(0,yt.zw)(a.date)+" :",1),0!=this.stats.distance?((0,s.wg)(),(0,s.iD)("p",zi,"ðŸ“ Distance : "+(0,yt.zw)(this.stats.distance)+" km",1)):(0,s.kq)("",!0),0!=this.stats.time?((0,s.wg)(),(0,s.iD)("p",Ci,"â± Time : "+(0,yt.zw)(this.stats.time)+" minutes",1)):(0,s.kq)("",!0),0!=this.stats.speed?((0,s.wg)(),(0,s.iD)("p",Pi,"ðŸŽ Average speed : "+(0,yt.zw)(this.stats.speed)+" km/h",1)):(0,s.kq)("",!0),0!=this.stats.height?((0,s.wg)(),(0,s.iD)("p",Ui,"â›° Height difference : +"+(0,yt.zw)(this.stats.height)+" m",1)):(0,s.kq)("",!0),this.item?((0,s.wg)(),(0,s.iD)("p",$i,"ðŸŽ¿ Item used : "+(0,yt.zw)(this.item),1)):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),a.isEmpty?((0,s.wg)(),(0,s.iD)("div",Ei,qi)):(0,s.kq)("",!0)])])}var Wi={name:"SearchView",components:{NavBar:Pt},data(){return{activities:[{}],isEmpty:!0,isDetail:!1,stats:{distance:0,height:0,time:0,speed:0},name:"",item:"",date:"",sport:""}},beforeMount(){this.getActivity()},methods:{async getActivity(){const t=localStorage.getItem("user").toString();await Q().get("http://localhost:4000/activities/"+t+"/name/"+this.$route.params.name+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((e=>{let o=0;console.log(e.data),this.activities=e.data,this.activities.forEach((e=>{Q().get("http://localhost:4000/sports/"+t+"/"+e.sportId,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{e.sportName=t.data[0].sportName})).catch((t=>{console.log(t)})),o++})),o>0&&(this.isEmpty=!1)})).catch((t=>{console.log(t)}))},deleteActivity(t,e){tt().Confirm.show("Delete activity","Do you want to delete activity named : "+e+" ?","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/activities/"+localStorage.getItem("user")+"/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Activity "+e+" deleted with succes",{closeButton:!0}),setTimeout("router.push('/profil')",2e3),console.log(t)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("Activity "+e+" is not deleted",{closeButton:!0})}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})},async seeActivity(t,e,o,i,s){this.name=e,this.sport=o,this.date=i,this.stats={distance:0,height:0,time:0,speed:0},await Q().get("http://localhost:4000/statValues/"+localStorage.getItem("user")+"/activity/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{t.data.forEach((t=>{"time"==t.stat&&(this.stats.time+=parseInt(t.value)),"distance"==t.stat&&(this.stats.distance+=parseInt(t.value)),"height"==t.stat&&(this.stats.height+=parseInt(t.value))})),0!=this.stats.distance&&0!=this.stats.time&&(this.stats.speed=(this.stats.distance/(this.stats.time/60)).toFixed(2)),""!=this.item&&Q().get("http://localhost:4000/items/"+localStorage.getItem("user")+"/"+s,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.item=t.data.itemName})).catch((t=>{console.log(t)})),this.changeDetail()})).catch((t=>{console.log(t)}))},changeDetail(){this.isDetail=!this.isDetail},edit(t){const e="/activityForm/"+t;Ss.push(e)}}};const Fi=(0,p.Z)(Wi,[["render",Ti],["__scopeId","data-v-8dd8aac6"]]);var Mi=Fi;const Yi={id:"all"},Zi={id:"content"};function xi(t,e,o,i,a,r){const n=(0,s.up)("NavBar"),l=(0,s.up)("CompetitionsTiles");return(0,s.wg)(),(0,s.iD)("div",Yi,[(0,s.Wm)(n),(0,s._)("div",Zi,[(0,s.Wm)(l)])])}const Hi={key:0,id:"all1"},Oi={key:0,class:"content1"},ji={key:0,class:"tiles"},Ki={class:"content"},Li={class:"button"},Ji=["onClick"],Ri=["onClick"];function Gi(t,e,o,i,a,r){return a.isPremium?((0,s.wg)(),(0,s.iD)("div",Hi,[a.form?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Oi,[a.form?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("ul",ji,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.compets,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tile"},[(0,s._)("div",Ki,[(0,s._)("p",null,(0,yt.zw)(t.competName),1),(0,s._)("p",null,"Sport : "+(0,yt.zw)(t.sportName),1),(0,s._)("p",null,"Date : "+(0,yt.zw)(t.competDate.split("T")[0]),1),(0,s._)("p",null,"Place : "+(0,yt.zw)(t.place),1)]),(0,s._)("div",Li,[(0,s._)("button",{onClick:e=>r.edit(t.id),class:"write"},"âœï¸",8,Ji),(0,s._)("button",{onClick:e=>r.deleteCompet(t.id,t.competName),class:"delete"},"ðŸš®",8,Ri)])])))),128))])),(0,s._)("button",{class:"add",onClick:e[0]||(e[0]=t=>r.create())},"âž• Add")]))])):(0,s.kq)("",!0)}var Qi={name:"SportTile",data(){return{possibleSport:[{}],compets:[{}],isPremium:!1,form:!1,id:"",competName:"",sport:"",date:"",write:!1}},beforeMount(){this.getCompets(),this.getStatus()},methods:{getStatus(){"true"!=localStorage.getItem("isAdmin")&&"true"!=localStorage.getItem("isPremium")||(this.isPremium=!0)},async getCompets(){const t=localStorage.getItem("user").toString();await Q().get("http://localhost:4000/competitions/"+t+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((e=>{this.compets=e.data,this.compets.forEach((e=>{Q().get("http://localhost:4000/sports/"+t+"/"+e.sport,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{e.sportName=t.data[0].sportName})).catch((t=>{console.log(t)}))}))})).catch((t=>{console.log(t)}))},deleteCompet(t,e){tt().Confirm.show("Delete competition","Do you want to delete competition named : "+e+" ?","Yes","No",(()=>{Q()["delete"]("http://localhost:4000/competitions/"+localStorage.getItem("user").toString()+"/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{tt().Notify.success("Competition "+e+" deleted with succes",{closeButton:!0}),setTimeout("location.reload(true)",2e3),console.log(t)})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("Competition "+e+" is not deleted",{closeButton:!0})}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"})},edit(t){const e="/competitions/form/"+t;Ss.push(e)},create(){Ss.push("/competitions/form/0")}}};const Xi=(0,p.Z)(Qi,[["render",Gi],["__scopeId","data-v-a5280a66"]]);var ts=Xi,es={name:"SportsView",components:{NavBar:Pt,CompetitionsTiles:ts}};const os=(0,p.Z)(es,[["render",xi],["__scopeId","data-v-2810e2d1"]]);var is=os;const ss=t=>((0,s.dD)("data-v-e58f4a98"),t=t(),(0,s.Cn)(),t),as={id:"all"},rs=(0,s.Uk)("âœ–ï¸"),ns=ss((()=>(0,s._)("label",{for:"competName"},"Competition Name",-1))),ls=ss((()=>(0,s._)("label",{for:"sport",class:"sport"},"Sport",-1))),cs=ss((()=>(0,s._)("option",{disabled:"",value:""},"Choose...",-1))),us=["value"],ds=ss((()=>(0,s._)("label",{for:"date"},"Date",-1))),ms=ss((()=>(0,s._)("label",{class:"place",for:"place"},"Place",-1))),hs=ss((()=>(0,s._)("button",{type:"submit",class:"btn"},"Submit",-1)));function ps(t,e,o,a,r,n){const l=(0,s.up)("NavBar"),c=(0,s.up)("router-link"),u=(0,s.up)("Datepicker");return(0,s.wg)(),(0,s.iD)("div",as,[(0,s.Wm)(l),(0,s.Wm)(c,{id:"cross",to:"/competitions"},{default:(0,s.w5)((()=>[rs])),_:1}),(0,s._)("form",{action:"",onSubmit:e[4]||(e[4]=(0,i.iM)((t=>n.sendData()),["prevent"]))},[ns,(0,s.wy)((0,s._)("input",{type:"text",name:"competName",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>r.competName=t),placeholder:"Enter the competition name"},null,512),[[i.nr,r.competName]]),ls,(0,s.wy)((0,s._)("select",{id:"sport","onUpdate:modelValue":e[1]||(e[1]=t=>r.sport=t)},[cs,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.possibleSport,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,yt.zw)(t.sportName),9,us)))),128))],512),[[i.bM,r.sport]]),ds,(0,s.Wm)(u,{id:"date",modelValue:r.date,"onUpdate:modelValue":e[2]||(e[2]=t=>r.date=t),format:a.dateFormat,monthChangeOnScroll:!1,enableTimePicker:!1,autoApply:"",utc:""},null,8,["modelValue","format"]),ms,(0,s.wy)((0,s._)("input",{type:"text",name:"place",required:"","onUpdate:modelValue":e[3]||(e[3]=t=>r.place=t),placeholder:"Enter the competition place"},null,512),[[i.nr,r.place]]),hs],32)])}var gs={name:"ItemView",setup(){const t=(0,mi.iH)(new Date),e=t=>{const e=t.getDate(),o=t.getMonth()+1,i=t.getFullYear();return`${i}-${o}-${e}`};return{dateCalendar:t,dateFormat:e}},data(){return{possibleSport:[{}],competName:"",sport:"",date:"",place:""}},components:{NavBar:Pt,Datepicker:di.Z},beforeMount(){this.getSports(),this.getValues()},methods:{async getValues(){if(0!=this.$route.params.id){const t=localStorage.getItem("user").toString();await Q().get("http://localhost:4000/competitions/"+t+"/"+this.$route.params.id,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.competName=t.data[0].competName,this.sport=t.data[0].sport,this.date=t.data[0].competDate,this.place=t.data[0].place})).catch((t=>{console.log(t)}))}},getSports(){Q().get("http://localhost:4000/sports/"+localStorage.getItem("user").toString()+"/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{this.possibleSport=t.data})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))},sendData(){this.verifiyCompet(this.competName)&&this.verifiyPlace(this.place)?tt().Confirm.show("Create competition","Do you want to create this competition ?","Yes","No",(()=>{Q().post("http://localhost:4000/competitions/"+localStorage.getItem("user")+"/",{competName:this.competName,sport:this.sport,competDate:this.date.split("T")[0],place:this.place},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),Ss.push("/competitions"),tt().Notify.success("Competition created !",{closeButton:!0})})).catch((t=>{t.message.toString().includes("401")?tt().Notify.failure("Unauthorized...",{closeButton:!0}):t.toString().includes("500")?tt().Notify.failure("Server Error...",{closeButton:!0}):t.toString().includes("400")?tt().Notify.failure("Still fields to fill...",{closeButton:!0}):tt().Notify.failure("An error occured",{closeButton:!0}),console.log(t)}))}),(()=>{tt().Notify.info("Competition is not created",{closeButton:!0})}),{titleColor:"#ff5549",okButtonBackground:"#ff5549"}):tt().Notify.warning("Little rascal...")},verifiyCompet(t){const e=/^((?!DROP|SELECT|scrpit|js).){2,}\S$/;return e.test(t)},verifiyPlace(t){const e=/^((?!DROP|SELECT|scrpit|js).){2,}\S$/;return e.test(t)}}};const fs=(0,p.Z)(gs,[["render",ps],["__scopeId","data-v-e58f4a98"]]);var vs=fs;const ys=[{path:"/",name:"visitors",component:T},{path:"/about",name:"about",component:Z},{path:"/login",name:"login",component:it},{path:"/signup",name:"signup",component:pt},{path:"/users",name:"users",component:Qt,meta:{requireAuth:!0}},{path:"/sports",name:"sports",component:Be,meta:{requireAuth:!0}},{path:"/profil",name:"profil",component:Vo,meta:{requireAuth:!0}},{path:"/search/:name",name:"search",component:Mi,meta:{requireAuth:!0}},{path:"/item",name:"item",component:Lo,meta:{requireAuth:!0}},{path:"/activityForm/:id",name:"activityForm",component:gi,meta:{requireAuth:!0}},{path:"/competitions",name:"competitions",component:is,meta:{requireAuth:!0}},{path:"/competitions/form/:id",name:"competitionsForm",component:vs,meta:{requireAuth:!0}}],ws=(0,S.p7)({history:(0,S.PO)("/"),routes:ys});ws.beforeEach(((t,e,o)=>{t.meta.requireAuth?localStorage.getItem("token")?o():o("/"):o()}));var Ss=ws,ks=o(6884),bs=o(65),_s=(0,bs.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,i.ri)(w).use(_s).use(Ss).use(ks.Z).mount("#app")},5766:function(t,e,o){"use strict";t.exports=o.p+"img/polytech.5d15b68f.png"},9022:function(t,e,o){"use strict";t.exports=o.p+"img/visitors.7c2a7584.png"},2480:function(){}},e={};function o(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,i,s,a){if(!i){var r=1/0;for(u=0;u<t.length;u++){i=t[u][0],s=t[u][1],a=t[u][2];for(var n=!0,l=0;l<i.length;l++)(!1&a||r>=a)&&Object.keys(o.O).every((function(t){return o.O[t](i[l])}))?i.splice(l--,1):(n=!1,a<r&&(r=a));if(n){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[i,s,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,a,r=i[0],n=i[1],l=i[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(s in n)o.o(n,s)&&(o.m[s]=n[s]);if(l)var u=l(o)}for(e&&e(i);c<r.length;c++)a=r[c],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(u)},i=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(7634)}));i=o.O(i)})();
//# sourceMappingURL=app.6d2162d3.js.map